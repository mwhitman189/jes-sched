{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\n\nvar dates = _interopRequireWildcard(require(\"./utils/dates\"));\n\nvar _helpers = require(\"./utils/helpers\");\n\nvar _selection = require(\"./utils/selection\");\n\nvar _Selection = _interopRequireWildcard(require(\"./Selection\"));\n\nvar BackgroundCells =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(BackgroundCells, _React$Component);\n\n  function BackgroundCells(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    _this.state = {\n      selecting: false\n    };\n    return _this;\n  }\n\n  var _proto = BackgroundCells.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.props.selectable && this._selectable();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this._teardownSelectable();\n  };\n\n  _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.selectable && !this.props.selectable) this._selectable();\n    if (!nextProps.selectable && this.props.selectable) this._teardownSelectable();\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        range = _this$props.range,\n        getNow = _this$props.getNow,\n        getters = _this$props.getters,\n        currentDate = _this$props.date,\n        Wrapper = _this$props.components.dateCellWrapper;\n    var _this$state = this.state,\n        selecting = _this$state.selecting,\n        startIdx = _this$state.startIdx,\n        endIdx = _this$state.endIdx;\n    var current = getNow();\n    return _react.default.createElement(\"div\", {\n      className: \"rbc-row-bg\"\n    }, range.map(function (date, index) {\n      var selected = selecting && index >= startIdx && index <= endIdx;\n\n      var _getters$dayProp = getters.dayProp(date),\n          className = _getters$dayProp.className,\n          style = _getters$dayProp.style;\n\n      return _react.default.createElement(Wrapper, {\n        key: index,\n        value: date,\n        range: range\n      }, _react.default.createElement(\"div\", {\n        style: style,\n        className: (0, _clsx.default)('rbc-day-bg', className, selected && 'rbc-selected-cell', dates.eq(date, current, 'day') && 'rbc-today', currentDate && dates.month(currentDate) !== dates.month(date) && 'rbc-off-range-bg')\n      }));\n    }));\n  };\n\n  _proto._selectable = function _selectable() {\n    var _this2 = this;\n\n    var node = (0, _reactDom.findDOMNode)(this);\n    var selector = this._selector = new _Selection.default(this.props.container, {\n      longPressThreshold: this.props.longPressThreshold\n    });\n\n    var selectorClicksHandler = function selectorClicksHandler(point, actionType) {\n      if (!(0, _Selection.isEvent)((0, _reactDom.findDOMNode)(_this2), point)) {\n        var rowBox = (0, _Selection.getBoundsForNode)(node);\n        var _this2$props = _this2.props,\n            range = _this2$props.range,\n            rtl = _this2$props.rtl;\n\n        if ((0, _selection.pointInBox)(rowBox, point)) {\n          var currentCell = (0, _selection.getSlotAtX)(rowBox, point.x, rtl, range.length);\n\n          _this2._selectSlot({\n            startIdx: currentCell,\n            endIdx: currentCell,\n            action: actionType,\n            box: point\n          });\n        }\n      }\n\n      _this2._initial = {};\n\n      _this2.setState({\n        selecting: false\n      });\n    };\n\n    selector.on('selecting', function (box) {\n      var _this2$props2 = _this2.props,\n          range = _this2$props2.range,\n          rtl = _this2$props2.rtl;\n      var startIdx = -1;\n      var endIdx = -1;\n\n      if (!_this2.state.selecting) {\n        (0, _helpers.notify)(_this2.props.onSelectStart, [box]);\n        _this2._initial = {\n          x: box.x,\n          y: box.y\n        };\n      }\n\n      if (selector.isSelected(node)) {\n        var nodeBox = (0, _Selection.getBoundsForNode)(node);\n\n        var _dateCellSelection = (0, _selection.dateCellSelection)(_this2._initial, nodeBox, box, range.length, rtl);\n\n        startIdx = _dateCellSelection.startIdx;\n        endIdx = _dateCellSelection.endIdx;\n      }\n\n      _this2.setState({\n        selecting: true,\n        startIdx: startIdx,\n        endIdx: endIdx\n      });\n    });\n    selector.on('beforeSelect', function (box) {\n      if (_this2.props.selectable !== 'ignoreEvents') return;\n      return !(0, _Selection.isEvent)((0, _reactDom.findDOMNode)(_this2), box);\n    });\n    selector.on('click', function (point) {\n      return selectorClicksHandler(point, 'click');\n    });\n    selector.on('doubleClick', function (point) {\n      return selectorClicksHandler(point, 'doubleClick');\n    });\n    selector.on('select', function (bounds) {\n      _this2._selectSlot((0, _extends2.default)({}, _this2.state, {\n        action: 'select',\n        bounds: bounds\n      }));\n\n      _this2._initial = {};\n\n      _this2.setState({\n        selecting: false\n      });\n\n      (0, _helpers.notify)(_this2.props.onSelectEnd, [_this2.state]);\n    });\n  };\n\n  _proto._teardownSelectable = function _teardownSelectable() {\n    if (!this._selector) return;\n\n    this._selector.teardown();\n\n    this._selector = null;\n  };\n\n  _proto._selectSlot = function _selectSlot(_ref) {\n    var endIdx = _ref.endIdx,\n        startIdx = _ref.startIdx,\n        action = _ref.action,\n        bounds = _ref.bounds,\n        box = _ref.box;\n    if (endIdx !== -1 && startIdx !== -1) this.props.onSelectSlot && this.props.onSelectSlot({\n      start: startIdx,\n      end: endIdx,\n      action: action,\n      bounds: bounds,\n      box: box\n    });\n  };\n\n  return BackgroundCells;\n}(_react.default.Component);\n\nBackgroundCells.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  date: _propTypes.default.instanceOf(Date),\n  getNow: _propTypes.default.func.isRequired,\n  getters: _propTypes.default.object.isRequired,\n  components: _propTypes.default.object.isRequired,\n  container: _propTypes.default.func,\n  dayPropGetter: _propTypes.default.func,\n  selectable: _propTypes.default.oneOf([true, false, 'ignoreEvents']),\n  longPressThreshold: _propTypes.default.number,\n  onSelectSlot: _propTypes.default.func.isRequired,\n  onSelectEnd: _propTypes.default.func,\n  onSelectStart: _propTypes.default.func,\n  range: _propTypes.default.arrayOf(_propTypes.default.instanceOf(Date)),\n  rtl: _propTypes.default.bool,\n  type: _propTypes.default.string\n} : {};\nvar _default = BackgroundCells;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","map":{"version":3,"sources":["/home/miles/webdev/jes-sched/frontend/node_modules/react-big-calendar/lib/BackgroundCells.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","exports","__esModule","default","_extends2","_inheritsLoose2","_propTypes","_react","_reactDom","_clsx","dates","_helpers","_selection","_Selection","BackgroundCells","_React$Component","props","context","_this","call","state","selecting","_proto","prototype","componentDidMount","selectable","_selectable","componentWillUnmount","_teardownSelectable","componentWillReceiveProps","nextProps","render","_this$props","range","getNow","getters","currentDate","date","Wrapper","components","dateCellWrapper","_this$state","startIdx","endIdx","current","createElement","className","map","index","selected","_getters$dayProp","dayProp","style","key","value","eq","month","_this2","node","findDOMNode","selector","_selector","container","longPressThreshold","selectorClicksHandler","point","actionType","isEvent","rowBox","getBoundsForNode","_this2$props","rtl","pointInBox","currentCell","getSlotAtX","x","length","_selectSlot","action","box","_initial","setState","on","_this2$props2","notify","onSelectStart","y","isSelected","nodeBox","_dateCellSelection","dateCellSelection","bounds","onSelectEnd","teardown","_ref","onSelectSlot","start","end","Component","propTypes","process","env","NODE_ENV","instanceOf","Date","func","isRequired","object","dayPropGetter","oneOf","number","arrayOf","bool","type","string","_default","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\n\nvar dates = _interopRequireWildcard(require(\"./utils/dates\"));\n\nvar _helpers = require(\"./utils/helpers\");\n\nvar _selection = require(\"./utils/selection\");\n\nvar _Selection = _interopRequireWildcard(require(\"./Selection\"));\n\nvar BackgroundCells =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(BackgroundCells, _React$Component);\n\n  function BackgroundCells(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    _this.state = {\n      selecting: false\n    };\n    return _this;\n  }\n\n  var _proto = BackgroundCells.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.props.selectable && this._selectable();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this._teardownSelectable();\n  };\n\n  _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.selectable && !this.props.selectable) this._selectable();\n    if (!nextProps.selectable && this.props.selectable) this._teardownSelectable();\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        range = _this$props.range,\n        getNow = _this$props.getNow,\n        getters = _this$props.getters,\n        currentDate = _this$props.date,\n        Wrapper = _this$props.components.dateCellWrapper;\n    var _this$state = this.state,\n        selecting = _this$state.selecting,\n        startIdx = _this$state.startIdx,\n        endIdx = _this$state.endIdx;\n    var current = getNow();\n    return _react.default.createElement(\"div\", {\n      className: \"rbc-row-bg\"\n    }, range.map(function (date, index) {\n      var selected = selecting && index >= startIdx && index <= endIdx;\n\n      var _getters$dayProp = getters.dayProp(date),\n          className = _getters$dayProp.className,\n          style = _getters$dayProp.style;\n\n      return _react.default.createElement(Wrapper, {\n        key: index,\n        value: date,\n        range: range\n      }, _react.default.createElement(\"div\", {\n        style: style,\n        className: (0, _clsx.default)('rbc-day-bg', className, selected && 'rbc-selected-cell', dates.eq(date, current, 'day') && 'rbc-today', currentDate && dates.month(currentDate) !== dates.month(date) && 'rbc-off-range-bg')\n      }));\n    }));\n  };\n\n  _proto._selectable = function _selectable() {\n    var _this2 = this;\n\n    var node = (0, _reactDom.findDOMNode)(this);\n    var selector = this._selector = new _Selection.default(this.props.container, {\n      longPressThreshold: this.props.longPressThreshold\n    });\n\n    var selectorClicksHandler = function selectorClicksHandler(point, actionType) {\n      if (!(0, _Selection.isEvent)((0, _reactDom.findDOMNode)(_this2), point)) {\n        var rowBox = (0, _Selection.getBoundsForNode)(node);\n        var _this2$props = _this2.props,\n            range = _this2$props.range,\n            rtl = _this2$props.rtl;\n\n        if ((0, _selection.pointInBox)(rowBox, point)) {\n          var currentCell = (0, _selection.getSlotAtX)(rowBox, point.x, rtl, range.length);\n\n          _this2._selectSlot({\n            startIdx: currentCell,\n            endIdx: currentCell,\n            action: actionType,\n            box: point\n          });\n        }\n      }\n\n      _this2._initial = {};\n\n      _this2.setState({\n        selecting: false\n      });\n    };\n\n    selector.on('selecting', function (box) {\n      var _this2$props2 = _this2.props,\n          range = _this2$props2.range,\n          rtl = _this2$props2.rtl;\n      var startIdx = -1;\n      var endIdx = -1;\n\n      if (!_this2.state.selecting) {\n        (0, _helpers.notify)(_this2.props.onSelectStart, [box]);\n        _this2._initial = {\n          x: box.x,\n          y: box.y\n        };\n      }\n\n      if (selector.isSelected(node)) {\n        var nodeBox = (0, _Selection.getBoundsForNode)(node);\n\n        var _dateCellSelection = (0, _selection.dateCellSelection)(_this2._initial, nodeBox, box, range.length, rtl);\n\n        startIdx = _dateCellSelection.startIdx;\n        endIdx = _dateCellSelection.endIdx;\n      }\n\n      _this2.setState({\n        selecting: true,\n        startIdx: startIdx,\n        endIdx: endIdx\n      });\n    });\n    selector.on('beforeSelect', function (box) {\n      if (_this2.props.selectable !== 'ignoreEvents') return;\n      return !(0, _Selection.isEvent)((0, _reactDom.findDOMNode)(_this2), box);\n    });\n    selector.on('click', function (point) {\n      return selectorClicksHandler(point, 'click');\n    });\n    selector.on('doubleClick', function (point) {\n      return selectorClicksHandler(point, 'doubleClick');\n    });\n    selector.on('select', function (bounds) {\n      _this2._selectSlot((0, _extends2.default)({}, _this2.state, {\n        action: 'select',\n        bounds: bounds\n      }));\n\n      _this2._initial = {};\n\n      _this2.setState({\n        selecting: false\n      });\n\n      (0, _helpers.notify)(_this2.props.onSelectEnd, [_this2.state]);\n    });\n  };\n\n  _proto._teardownSelectable = function _teardownSelectable() {\n    if (!this._selector) return;\n\n    this._selector.teardown();\n\n    this._selector = null;\n  };\n\n  _proto._selectSlot = function _selectSlot(_ref) {\n    var endIdx = _ref.endIdx,\n        startIdx = _ref.startIdx,\n        action = _ref.action,\n        bounds = _ref.bounds,\n        box = _ref.box;\n    if (endIdx !== -1 && startIdx !== -1) this.props.onSelectSlot && this.props.onSelectSlot({\n      start: startIdx,\n      end: endIdx,\n      action: action,\n      bounds: bounds,\n      box: box\n    });\n  };\n\n  return BackgroundCells;\n}(_react.default.Component);\n\nBackgroundCells.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  date: _propTypes.default.instanceOf(Date),\n  getNow: _propTypes.default.func.isRequired,\n  getters: _propTypes.default.object.isRequired,\n  components: _propTypes.default.object.isRequired,\n  container: _propTypes.default.func,\n  dayPropGetter: _propTypes.default.func,\n  selectable: _propTypes.default.oneOf([true, false, 'ignoreEvents']),\n  longPressThreshold: _propTypes.default.number,\n  onSelectSlot: _propTypes.default.func.isRequired,\n  onSelectEnd: _propTypes.default.func,\n  onSelectStart: _propTypes.default.func,\n  range: _propTypes.default.arrayOf(_propTypes.default.instanceOf(Date)),\n  rtl: _propTypes.default.bool,\n  type: _propTypes.default.string\n} : {};\nvar _default = BackgroundCells;\nexports.default = _default;\nmodule.exports = exports[\"default\"];"]},"metadata":{},"sourceType":"script"}