{"ast":null,"code":"import _objectSpread from \"/home/miles/webdev/jes-sched/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport axios from \"axios\";\nimport { createPayPeriodData } from \"../helperFunctions\";\nimport uuid from \"uuid/v4\";\n\nconst reducer = async (state, action) => {\n  switch (action.type) {\n    case \"ADD_TEACHER\":\n      const newTeacher = action.newTeacher;\n      await axios.post(\"/teachers/add\", newTeacher).then(res => console.log(res.data)).catch(err => console.log(err));\n      return [...state, {\n        id: uuid(),\n        newTeacher\n      }];\n\n    case \"DELETE_TEACHER\":\n      const teacher = action.teacher;\n      await axios.delete(`/teachers/delete/${teacher._id}`).then(res => console.log(res.data)).catch(err => console.log(err));\n      return state.filter(teacher => teacher.id !== action.id);\n\n    case \"UPDATE_TEACHER\":\n      await axios.put(`/teachers/update/${teacher._id}`, updatedTeacher).then(res => console.log(res.data)).catch(err => console.log(err));\n      return state.map(teacher => teacher.id === action.id ? _objectSpread({}, teacher, {\n        resourceTitle: teacher.resourceTitle,\n        name: teacher.name,\n        familyName: teacher.familyName,\n        teachingMins: teacher.teachingMins,\n        holidayMins: teacher.holidayMins,\n        outsideDutyMins: teacher.outsideDutyMins,\n        otThreshold: teacher.otThreshold,\n        overThresholdOneMins: teacher.overThresholdOneMins,\n        overThresholdTwoMins: teacher.overThresholdTwoMins\n      }) : teacher);\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/miles/webdev/jes-sched/client/src/reducers/teachersReducer.js"],"names":["axios","createPayPeriodData","uuid","reducer","state","action","type","newTeacher","post","then","res","console","log","data","catch","err","id","teacher","delete","_id","filter","put","updatedTeacher","map","resourceTitle","name","familyName","teachingMins","holidayMins","outsideDutyMins","otThreshold","overThresholdOneMins","overThresholdTwoMins"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,mBAAT,QAAoC,oBAApC;AACA,OAAOC,IAAP,MAAiB,SAAjB;;AAEA,MAAMC,OAAO,GAAG,OAAOC,KAAP,EAAcC,MAAd,KAAyB;AACvC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,aAAL;AACE,YAAMC,UAAU,GAAGF,MAAM,CAACE,UAA1B;AACA,YAAMP,KAAK,CACRQ,IADG,CACE,eADF,EACmBD,UADnB,EAEHE,IAFG,CAEEC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,CAFT,EAGHC,KAHG,CAGGC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAHV,CAAN;AAIA,aAAO,CAAC,GAAGX,KAAJ,EAAW;AAAEY,QAAAA,EAAE,EAAEd,IAAI,EAAV;AAAcK,QAAAA;AAAd,OAAX,CAAP;;AAEF,SAAK,gBAAL;AACE,YAAMU,OAAO,GAAGZ,MAAM,CAACY,OAAvB;AACA,YAAMjB,KAAK,CACRkB,MADG,CACK,oBAAmBD,OAAO,CAACE,GAAI,EADpC,EAEHV,IAFG,CAEEC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,CAFT,EAGHC,KAHG,CAGGC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAHV,CAAN;AAIA,aAAOX,KAAK,CAACgB,MAAN,CAAaH,OAAO,IAAIA,OAAO,CAACD,EAAR,KAAeX,MAAM,CAACW,EAA9C,CAAP;;AAEF,SAAK,gBAAL;AACE,YAAMhB,KAAK,CACRqB,GADG,CACE,oBAAmBJ,OAAO,CAACE,GAAI,EADjC,EACoCG,cADpC,EAEHb,IAFG,CAEEC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,CAFT,EAGHC,KAHG,CAGGC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAHV,CAAN;AAIA,aAAOX,KAAK,CAACmB,GAAN,CAAUN,OAAO,IACtBA,OAAO,CAACD,EAAR,KAAeX,MAAM,CAACW,EAAtB,qBAESC,OAFT;AAGMO,QAAAA,aAAa,EAAEP,OAAO,CAACO,aAH7B;AAIMC,QAAAA,IAAI,EAAER,OAAO,CAACQ,IAJpB;AAKMC,QAAAA,UAAU,EAAET,OAAO,CAACS,UAL1B;AAMMC,QAAAA,YAAY,EAAEV,OAAO,CAACU,YAN5B;AAOMC,QAAAA,WAAW,EAAEX,OAAO,CAACW,WAP3B;AAQMC,QAAAA,eAAe,EAAEZ,OAAO,CAACY,eAR/B;AASMC,QAAAA,WAAW,EAAEb,OAAO,CAACa,WAT3B;AAUMC,QAAAA,oBAAoB,EAAEd,OAAO,CAACc,oBAVpC;AAWMC,QAAAA,oBAAoB,EAAEf,OAAO,CAACe;AAXpC,WAaIf,OAdC,CAAP;;AAgBF;AACE,aAAOb,KAAP;AAvCJ;AAyCD,CA1CD;;AA2CA,eAAeD,OAAf","sourcesContent":["import axios from \"axios\";\nimport { createPayPeriodData } from \"../helperFunctions\";\nimport uuid from \"uuid/v4\";\n\nconst reducer = async (state, action) => {\n  switch (action.type) {\n    case \"ADD_TEACHER\":\n      const newTeacher = action.newTeacher;\n      await axios\n        .post(\"/teachers/add\", newTeacher)\n        .then(res => console.log(res.data))\n        .catch(err => console.log(err));\n      return [...state, { id: uuid(), newTeacher }];\n\n    case \"DELETE_TEACHER\":\n      const teacher = action.teacher;\n      await axios\n        .delete(`/teachers/delete/${teacher._id}`)\n        .then(res => console.log(res.data))\n        .catch(err => console.log(err));\n      return state.filter(teacher => teacher.id !== action.id);\n\n    case \"UPDATE_TEACHER\":\n      await axios\n        .put(`/teachers/update/${teacher._id}`, updatedTeacher)\n        .then(res => console.log(res.data))\n        .catch(err => console.log(err));\n      return state.map(teacher =>\n        teacher.id === action.id\n          ? {\n              ...teacher,\n              resourceTitle: teacher.resourceTitle,\n              name: teacher.name,\n              familyName: teacher.familyName,\n              teachingMins: teacher.teachingMins,\n              holidayMins: teacher.holidayMins,\n              outsideDutyMins: teacher.outsideDutyMins,\n              otThreshold: teacher.otThreshold,\n              overThresholdOneMins: teacher.overThresholdOneMins,\n              overThresholdTwoMins: teacher.overThresholdTwoMins\n            }\n          : teacher\n      );\n    default:\n      return state;\n  }\n};\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}