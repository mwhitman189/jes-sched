{"ast":null,"code":"import moment from\"moment\";function validateRoom(events,room,start,duration){return events.every(function(event){if(testDateOverlap([event.start,event.end],[moment(new Date(start)),moment(moment(new Date(start)).add(duration,\"m\").toDate())])){return parseInt(event.room)!==parseInt(room);}return true;});}function validateTeacher(events,teacher,start,duration){return events.every(function(event){if(testDateOverlap([event.start,event.end],[moment(new Date(start)),moment(moment(new Date(start)).add(duration,\"m\").toDate())])){return parseInt(event.resourceId)!==parseInt(teacher);}return true;});}function testDateOverlap(dateArr,testDateArr){if(testDateArr[0].isBetween(dateArr[0],dateArr[1],null,\"[]\")||testDateArr[1].isBetween(dateArr[0],dateArr[1],null,\"[]\")){return true;}}export{validateRoom,validateTeacher};","map":{"version":3,"sources":["/home/miles/webdev/jes-sched/client/src/validators.js"],"names":["moment","validateRoom","events","room","start","duration","every","event","testDateOverlap","end","Date","add","toDate","parseInt","validateTeacher","teacher","resourceId","dateArr","testDateArr","isBetween"],"mappings":"AAAA,MAAOA,CAAAA,MAAP,KAAmB,QAAnB,CAEA,QAASC,CAAAA,YAAT,CAAsBC,MAAtB,CAA8BC,IAA9B,CAAoCC,KAApC,CAA2CC,QAA3C,CAAqD,CACnD,MAAOH,CAAAA,MAAM,CAACI,KAAP,CAAa,SAAAC,KAAK,CAAI,CAC3B,GACEC,eAAe,CACb,CAACD,KAAK,CAACH,KAAP,CAAcG,KAAK,CAACE,GAApB,CADa,CAEb,CACET,MAAM,CAAC,GAAIU,CAAAA,IAAJ,CAASN,KAAT,CAAD,CADR,CAEEJ,MAAM,CACJA,MAAM,CAAC,GAAIU,CAAAA,IAAJ,CAASN,KAAT,CAAD,CAAN,CACGO,GADH,CACON,QADP,CACiB,GADjB,EAEGO,MAFH,EADI,CAFR,CAFa,CADjB,CAYE,CACA,MAAOC,CAAAA,QAAQ,CAACN,KAAK,CAACJ,IAAP,CAAR,GAAyBU,QAAQ,CAACV,IAAD,CAAxC,CACD,CACD,MAAO,KAAP,CACD,CAjBM,CAAP,CAkBD,CAED,QAASW,CAAAA,eAAT,CAAyBZ,MAAzB,CAAiCa,OAAjC,CAA0CX,KAA1C,CAAiDC,QAAjD,CAA2D,CACzD,MAAOH,CAAAA,MAAM,CAACI,KAAP,CAAa,SAAAC,KAAK,CAAI,CAC3B,GACEC,eAAe,CACb,CAACD,KAAK,CAACH,KAAP,CAAcG,KAAK,CAACE,GAApB,CADa,CAEb,CACET,MAAM,CAAC,GAAIU,CAAAA,IAAJ,CAASN,KAAT,CAAD,CADR,CAEEJ,MAAM,CACJA,MAAM,CAAC,GAAIU,CAAAA,IAAJ,CAASN,KAAT,CAAD,CAAN,CACGO,GADH,CACON,QADP,CACiB,GADjB,EAEGO,MAFH,EADI,CAFR,CAFa,CADjB,CAYE,CACA,MAAOC,CAAAA,QAAQ,CAACN,KAAK,CAACS,UAAP,CAAR,GAA+BH,QAAQ,CAACE,OAAD,CAA9C,CACD,CACD,MAAO,KAAP,CACD,CAjBM,CAAP,CAkBD,CAED,QAASP,CAAAA,eAAT,CAAyBS,OAAzB,CAAkCC,WAAlC,CAA+C,CAC7C,GACEA,WAAW,CAAC,CAAD,CAAX,CAAeC,SAAf,CAAyBF,OAAO,CAAC,CAAD,CAAhC,CAAqCA,OAAO,CAAC,CAAD,CAA5C,CAAiD,IAAjD,CAAuD,IAAvD,GACAC,WAAW,CAAC,CAAD,CAAX,CAAeC,SAAf,CAAyBF,OAAO,CAAC,CAAD,CAAhC,CAAqCA,OAAO,CAAC,CAAD,CAA5C,CAAiD,IAAjD,CAAuD,IAAvD,CAFF,CAGE,CACA,MAAO,KAAP,CACD,CACF,CAED,OAAShB,YAAT,CAAuBa,eAAvB","sourcesContent":["import moment from \"moment\";\n\nfunction validateRoom(events, room, start, duration) {\n  return events.every(event => {\n    if (\n      testDateOverlap(\n        [event.start, event.end],\n        [\n          moment(new Date(start)),\n          moment(\n            moment(new Date(start))\n              .add(duration, \"m\")\n              .toDate()\n          )\n        ]\n      )\n    ) {\n      return parseInt(event.room) !== parseInt(room);\n    }\n    return true;\n  });\n}\n\nfunction validateTeacher(events, teacher, start, duration) {\n  return events.every(event => {\n    if (\n      testDateOverlap(\n        [event.start, event.end],\n        [\n          moment(new Date(start)),\n          moment(\n            moment(new Date(start))\n              .add(duration, \"m\")\n              .toDate()\n          )\n        ]\n      )\n    ) {\n      return parseInt(event.resourceId) !== parseInt(teacher);\n    }\n    return true;\n  });\n}\n\nfunction testDateOverlap(dateArr, testDateArr) {\n  if (\n    testDateArr[0].isBetween(dateArr[0], dateArr[1], null, \"[]\") ||\n    testDateArr[1].isBetween(dateArr[0], dateArr[1], null, \"[]\")\n  ) {\n    return true;\n  }\n}\n\nexport { validateRoom, validateTeacher };\n"]},"metadata":{},"sourceType":"module"}