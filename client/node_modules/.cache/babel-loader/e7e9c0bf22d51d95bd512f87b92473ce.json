{"ast":null,"code":"import _slicedToArray from \"/home/miles/webdev/jes-sched/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport { getRecurrences, addEvent } from \"../helperFunctions\";\nexport default function (initialEvents) {\n  const _useState = useState(initialEvents),\n        _useState2 = _slicedToArray(_useState, 2),\n        events = _useState2[0],\n        setEvents = _useState2[1];\n\n  const JapaneseHolidays = require(\"japanese-holidays\");\n\n  const testObj = {\n    events,\n    addEvent: async function (event) {\n      const newEvents = addEvent();\n      setEvents(...events, ...newEvents);\n    },\n    deleteEvent: async function (event) {\n      const newEvents = events.filter(evt => evt._id !== event._id);\n      setEvents(newEvents);\n      return await axios.delete(`/lessons/delete/${event._id}`).then(res => console.log(res.data)).catch(err => console.log(err));\n    },\n    editEvent: async function (event, editedEvent) {\n      const idx = events.findIndex(e => e._id === event._id);\n      const nextEvents = [...events];\n      nextEvents.splice(idx, 1, editedEvent);\n      setEvents(nextEvents);\n      return await axios.put(`/lessons/update/${event._id}`, editedEvent).then(res => console.log(res.data)).catch(err => console.log(err));\n    }\n  };\n  return testObj;\n}","map":{"version":3,"sources":["/home/miles/webdev/jes-sched/client/src/hooks/useEventsState.js"],"names":["useState","axios","moment","getRecurrences","addEvent","initialEvents","events","setEvents","JapaneseHolidays","require","testObj","event","newEvents","deleteEvent","filter","evt","_id","delete","then","res","console","log","data","catch","err","editEvent","editedEvent","idx","findIndex","e","nextEvents","splice","put"],"mappings":";AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,cAAT,EAAyBC,QAAzB,QAAyC,oBAAzC;AAEA,eAAe,UAASC,aAAT,EAAwB;AAAA,oBACTL,QAAQ,CAACK,aAAD,CADC;AAAA;AAAA,QAC9BC,MAD8B;AAAA,QACtBC,SADsB;;AAErC,QAAMC,gBAAgB,GAAGC,OAAO,CAAC,mBAAD,CAAhC;;AAEA,QAAMC,OAAO,GAAG;AACdJ,IAAAA,MADc;AAEdF,IAAAA,QAAQ,EAAE,gBAAeO,KAAf,EAAsB;AAC9B,YAAMC,SAAS,GAAGR,QAAQ,EAA1B;AACAG,MAAAA,SAAS,CAAC,GAAGD,MAAJ,EAAY,GAAGM,SAAf,CAAT;AACD,KALa;AAMdC,IAAAA,WAAW,EAAE,gBAAeF,KAAf,EAAsB;AACjC,YAAMC,SAAS,GAAGN,MAAM,CAACQ,MAAP,CAAcC,GAAG,IAAIA,GAAG,CAACC,GAAJ,KAAYL,KAAK,CAACK,GAAvC,CAAlB;AACAT,MAAAA,SAAS,CAACK,SAAD,CAAT;AACA,aAAO,MAAMX,KAAK,CACfgB,MADU,CACF,mBAAkBN,KAAK,CAACK,GAAI,EAD1B,EAEVE,IAFU,CAELC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,CAFF,EAGVC,KAHU,CAGJC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAHH,CAAb;AAID,KAba;AAcdC,IAAAA,SAAS,EAAE,gBAAed,KAAf,EAAsBe,WAAtB,EAAmC;AAC5C,YAAMC,GAAG,GAAGrB,MAAM,CAACsB,SAAP,CAAiBC,CAAC,IAAIA,CAAC,CAACb,GAAF,KAAUL,KAAK,CAACK,GAAtC,CAAZ;AACA,YAAMc,UAAU,GAAG,CAAC,GAAGxB,MAAJ,CAAnB;AAEAwB,MAAAA,UAAU,CAACC,MAAX,CAAkBJ,GAAlB,EAAuB,CAAvB,EAA0BD,WAA1B;AACAnB,MAAAA,SAAS,CAACuB,UAAD,CAAT;AAEA,aAAO,MAAM7B,KAAK,CACf+B,GADU,CACL,mBAAkBrB,KAAK,CAACK,GAAI,EADvB,EAC0BU,WAD1B,EAEVR,IAFU,CAELC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,CAFF,EAGVC,KAHU,CAGJC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAHH,CAAb;AAID;AAzBa,GAAhB;AA4BA,SAAOd,OAAP;AACD","sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport { getRecurrences, addEvent } from \"../helperFunctions\";\n\nexport default function(initialEvents) {\n  const [events, setEvents] = useState(initialEvents);\n  const JapaneseHolidays = require(\"japanese-holidays\");\n\n  const testObj = {\n    events,\n    addEvent: async function(event) {\n      const newEvents = addEvent();\n      setEvents(...events, ...newEvents);\n    },\n    deleteEvent: async function(event) {\n      const newEvents = events.filter(evt => evt._id !== event._id);\n      setEvents(newEvents);\n      return await axios\n        .delete(`/lessons/delete/${event._id}`)\n        .then(res => console.log(res.data))\n        .catch(err => console.log(err));\n    },\n    editEvent: async function(event, editedEvent) {\n      const idx = events.findIndex(e => e._id === event._id);\n      const nextEvents = [...events];\n\n      nextEvents.splice(idx, 1, editedEvent);\n      setEvents(nextEvents);\n\n      return await axios\n        .put(`/lessons/update/${event._id}`, editedEvent)\n        .then(res => console.log(res.data))\n        .catch(err => console.log(err));\n    }\n  };\n\n  return testObj;\n}\n"]},"metadata":{},"sourceType":"module"}