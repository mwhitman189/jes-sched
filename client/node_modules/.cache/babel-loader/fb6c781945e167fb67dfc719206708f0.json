{"ast":null,"code":"import moment from \"moment\";\n\nfunction validateRoom(events, event, start, duration) {\n  return events.every(event => {\n    if (testDateOverlap([event.start, event.end], [moment(new Date(start)), moment(moment(new Date(start)).add(duration, \"m\").toDate())])) {\n      return parseInt(event.room) !== parseInt(room);\n    }\n\n    return true;\n  });\n}\n\nfunction validateTeacher(events, eventResourceId, eventStart, eventDuration) {\n  return events.every(otherEvent => {\n    if (testDateOverlap([otherEvent.start, otherEvent.end], [moment(new Date(eventStart)), moment(moment(new Date(eventStart)).add(eventDuration, \"m\").toDate())])) {\n      return parseInt(otherEvent.resourceId) !== parseInt(eventResourceId);\n    }\n\n    return true;\n  });\n}\n\nfunction testDateOverlap(dateArr, testDateArr) {\n  if (testDateArr[0].isBetween(dateArr[0], dateArr[1], null, \"[]\") || testDateArr[1].isBetween(dateArr[0], dateArr[1], null, \"[]\")) {\n    return true;\n  }\n}\n\nexport { validateRoom, validateTeacher };","map":{"version":3,"sources":["/home/miles/webdev/jes-sched/client/src/validators.js"],"names":["moment","validateRoom","events","event","start","duration","every","testDateOverlap","end","Date","add","toDate","parseInt","room","validateTeacher","eventResourceId","eventStart","eventDuration","otherEvent","resourceId","dateArr","testDateArr","isBetween"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;;AAEA,SAASC,YAAT,CAAsBC,MAAtB,EAA8BC,KAA9B,EAAqCC,KAArC,EAA4CC,QAA5C,EAAsD;AACpD,SAAOH,MAAM,CAACI,KAAP,CAAcH,KAAD,IAAW;AAC7B,QACEI,eAAe,CACb,CAACJ,KAAK,CAACC,KAAP,EAAcD,KAAK,CAACK,GAApB,CADa,EAEb,CACER,MAAM,CAAC,IAAIS,IAAJ,CAASL,KAAT,CAAD,CADR,EAEEJ,MAAM,CAACA,MAAM,CAAC,IAAIS,IAAJ,CAASL,KAAT,CAAD,CAAN,CAAwBM,GAAxB,CAA4BL,QAA5B,EAAsC,GAAtC,EAA2CM,MAA3C,EAAD,CAFR,CAFa,CADjB,EAQE;AACA,aAAOC,QAAQ,CAACT,KAAK,CAACU,IAAP,CAAR,KAAyBD,QAAQ,CAACC,IAAD,CAAxC;AACD;;AACD,WAAO,IAAP;AACD,GAbM,CAAP;AAcD;;AAED,SAASC,eAAT,CAAyBZ,MAAzB,EAAiCa,eAAjC,EAAkDC,UAAlD,EAA8DC,aAA9D,EAA6E;AAC3E,SAAOf,MAAM,CAACI,KAAP,CAAcY,UAAD,IAAgB;AAClC,QACEX,eAAe,CACb,CAACW,UAAU,CAACd,KAAZ,EAAmBc,UAAU,CAACV,GAA9B,CADa,EAEb,CACER,MAAM,CAAC,IAAIS,IAAJ,CAASO,UAAT,CAAD,CADR,EAEEhB,MAAM,CAACA,MAAM,CAAC,IAAIS,IAAJ,CAASO,UAAT,CAAD,CAAN,CAA6BN,GAA7B,CAAiCO,aAAjC,EAAgD,GAAhD,EAAqDN,MAArD,EAAD,CAFR,CAFa,CADjB,EAQE;AACA,aAAOC,QAAQ,CAACM,UAAU,CAACC,UAAZ,CAAR,KAAoCP,QAAQ,CAACG,eAAD,CAAnD;AACD;;AACD,WAAO,IAAP;AACD,GAbM,CAAP;AAcD;;AAED,SAASR,eAAT,CAAyBa,OAAzB,EAAkCC,WAAlC,EAA+C;AAC7C,MACEA,WAAW,CAAC,CAAD,CAAX,CAAeC,SAAf,CAAyBF,OAAO,CAAC,CAAD,CAAhC,EAAqCA,OAAO,CAAC,CAAD,CAA5C,EAAiD,IAAjD,EAAuD,IAAvD,KACAC,WAAW,CAAC,CAAD,CAAX,CAAeC,SAAf,CAAyBF,OAAO,CAAC,CAAD,CAAhC,EAAqCA,OAAO,CAAC,CAAD,CAA5C,EAAiD,IAAjD,EAAuD,IAAvD,CAFF,EAGE;AACA,WAAO,IAAP;AACD;AACF;;AAED,SAASnB,YAAT,EAAuBa,eAAvB","sourcesContent":["import moment from \"moment\";\n\nfunction validateRoom(events, event, start, duration) {\n  return events.every((event) => {\n    if (\n      testDateOverlap(\n        [event.start, event.end],\n        [\n          moment(new Date(start)),\n          moment(moment(new Date(start)).add(duration, \"m\").toDate()),\n        ]\n      )\n    ) {\n      return parseInt(event.room) !== parseInt(room);\n    }\n    return true;\n  });\n}\n\nfunction validateTeacher(events, eventResourceId, eventStart, eventDuration) {\n  return events.every((otherEvent) => {\n    if (\n      testDateOverlap(\n        [otherEvent.start, otherEvent.end],\n        [\n          moment(new Date(eventStart)),\n          moment(moment(new Date(eventStart)).add(eventDuration, \"m\").toDate()),\n        ]\n      )\n    ) {\n      return parseInt(otherEvent.resourceId) !== parseInt(eventResourceId);\n    }\n    return true;\n  });\n}\n\nfunction testDateOverlap(dateArr, testDateArr) {\n  if (\n    testDateArr[0].isBetween(dateArr[0], dateArr[1], null, \"[]\") ||\n    testDateArr[1].isBetween(dateArr[0], dateArr[1], null, \"[]\")\n  ) {\n    return true;\n  }\n}\n\nexport { validateRoom, validateTeacher };\n"]},"metadata":{},"sourceType":"module"}