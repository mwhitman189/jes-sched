{"ast":null,"code":"import _slicedToArray from\"/home/miles/webdev/jes-sched/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{ValidatorForm,TextValidator}from\"react-material-ui-form-validator\";import useInputState from\"../hooks/useInputState\";import useToggle from\"../hooks/useToggle\";import{makeStyles}from\"@material-ui/core/styles\";import Button from\"@material-ui/core/Button\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogContentText from\"@material-ui/core/DialogContentText\";import DialogTitle from\"@material-ui/core/DialogTitle\";import FormControl from\"@material-ui/core/FormControl\";import FormControlLabel from\"@material-ui/core/FormControlLabel\";import Switch from\"@material-ui/core/Switch\";var useStyles=makeStyles(function(theme){return{formControl:{margin:theme.spacing(1),minWidth:120},selectEmpty:{marginTop:theme.spacing(2)}};});export default function EventForm(props){var classes=useStyles();var formType=props.formType,setFormType=props.setFormType,addTeacher=props.addTeacher,teachers=props.teachers;var _useInputState=useInputState(\"\"),_useInputState2=_slicedToArray(_useInputState,2),givenName=_useInputState2[0],updateGivenName=_useInputState2[1];var _useInputState3=useInputState(\"\"),_useInputState4=_slicedToArray(_useInputState3,2),familyName=_useInputState4[0],updateFamilyName=_useInputState4[1];var _useInputState5=useInputState(\"\"),_useInputState6=_slicedToArray(_useInputState5,2),otThresholdHours=_useInputState6[0],updateOtThresholdHours=_useInputState6[1];var _useInputState7=useInputState(\"\"),_useInputState8=_slicedToArray(_useInputState7,2),contractType=_useInputState8[0],updateContractType=_useInputState8[1];var _useInputState9=useInputState(\"\"),_useInputState10=_slicedToArray(_useInputState9,2),dependentsNum=_useInputState10[0],updateDependentsNum=_useInputState10[1];var _useToggle=useToggle(false),_useToggle2=_slicedToArray(_useToggle,2),isPartTime=_useToggle2[0],toggleIsPartTime=_useToggle2[1];var handleAddTeacher=function handleAddTeacher(e){e.preventDefault();var bigResourceId=1;if(teachers){teachers.forEach(function(t){if(t.resourceId>bigResourceId){bigResourceId=t.resourceId+1;}else{bigResourceId++;}});}addTeacher({resourceId:bigResourceId,resourceTitle:givenName,name:givenName,familyName:familyName,teachingMins:0,otThreshold:parseInt(otThresholdHours*60),contractType:contractType,dependentsNum:dependentsNum,isPartTime:isPartTime});};var hideForm=function hideForm(){return setFormType(\"\");};return React.createElement(Dialog,{open:formType===\"teacher\",onClose:hideForm,\"aria-labelledby\":\"form-dialog-title\"},React.createElement(ValidatorForm,{onSubmit:handleAddTeacher},React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"New Teacher\"),React.createElement(DialogContent,null,React.createElement(DialogContentText,null,\"Enter Teacher Info\"),React.createElement(FormControlLabel,{control:React.createElement(Switch,{checked:isPartTime,onChange:toggleIsPartTime,value:isPartTime}),label:\"Part-Time Teacher\"}),React.createElement(FormControl,{className:classes.formControl},React.createElement(TextValidator,{autoFocus:true,margin:\"dense\",id:\"givenName\",label:\"Given Name\",type:\"text\",value:givenName,onChange:updateGivenName,fullWidth:true,validators:[\"required\"],errorMessages:[\"Enter the Given Name\"],required:true})),React.createElement(FormControl,{className:classes.formControl},React.createElement(TextValidator,{margin:\"dense\",id:\"lastName\",label:\"Family Name\",type:\"text\",value:familyName,onChange:updateFamilyName,fullWidth:true,validators:[\"required\"],errorMessages:[\"Enter the Last Name\"],required:true})),React.createElement(FormControl,{className:classes.formControl},React.createElement(TextValidator,{margin:\"dense\",id:\"contractType\",label:\"Contract Type\",type:\"text\",value:contractType,onChange:updateContractType,fullWidth:true,validators:[\"required\"],errorMessages:[\"Select a contract type\"],required:true})),!isPartTime&&React.createElement(FormControl,{className:classes.formControl},React.createElement(TextValidator,{margin:\"dense\",id:\"otThreshold\",label:\"Overtime threshold (hours)\",type:\"text\",pattern:\"[0-9]*\",value:otThresholdHours,onChange:updateOtThresholdHours,fullWidth:true,validators:[\"required\"],errorMessages:[\"Set first OT threshold\"],required:true})),!isPartTime&&React.createElement(FormControl,{className:classes.formControl},React.createElement(TextValidator,{margin:\"dense\",id:\"dependentsNum\",label:\"Number of dependents\",type:\"text\",pattern:\"[0-9]*\",value:dependentsNum,onChange:updateDependentsNum,fullWidth:true,required:true}))),React.createElement(DialogActions,null,React.createElement(Button,{onClick:hideForm,color:\"primary\"},\"Cancel\"),React.createElement(Button,{type:\"submit\",color:\"primary\"},\"Add Teacher\"))));}","map":{"version":3,"sources":["/home/miles/webdev/jes-sched/client/src/components/TeacherForm.js"],"names":["React","ValidatorForm","TextValidator","useInputState","useToggle","makeStyles","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","FormControl","FormControlLabel","Switch","useStyles","theme","formControl","margin","spacing","minWidth","selectEmpty","marginTop","EventForm","props","classes","formType","setFormType","addTeacher","teachers","givenName","updateGivenName","familyName","updateFamilyName","otThresholdHours","updateOtThresholdHours","contractType","updateContractType","dependentsNum","updateDependentsNum","isPartTime","toggleIsPartTime","handleAddTeacher","e","preventDefault","bigResourceId","forEach","t","resourceId","resourceTitle","name","teachingMins","otThreshold","parseInt","hideForm"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,CAAwBC,aAAxB,KAA6C,kCAA7C,CAEA,MAAOC,CAAAA,aAAP,KAA0B,wBAA1B,CACA,MAAOC,CAAAA,SAAP,KAAsB,oBAAtB,CAEA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qCAA9B,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oCAA7B,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CAEA,GAAMC,CAAAA,SAAS,CAAGV,UAAU,CAAC,SAAAW,KAAK,QAAK,CACrCC,WAAW,CAAE,CACXC,MAAM,CAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADG,CAEXC,QAAQ,CAAE,GAFC,CADwB,CAKrCC,WAAW,CAAE,CACXC,SAAS,CAAEN,KAAK,CAACG,OAAN,CAAc,CAAd,CADA,CALwB,CAAL,EAAN,CAA5B,CAUA,cAAe,SAASI,CAAAA,SAAT,CAAmBC,KAAnB,CAA0B,CACvC,GAAMC,CAAAA,OAAO,CAAGV,SAAS,EAAzB,CADuC,GAE/BW,CAAAA,QAF+B,CAEiBF,KAFjB,CAE/BE,QAF+B,CAErBC,WAFqB,CAEiBH,KAFjB,CAErBG,WAFqB,CAERC,UAFQ,CAEiBJ,KAFjB,CAERI,UAFQ,CAEIC,QAFJ,CAEiBL,KAFjB,CAEIK,QAFJ,oBAIF1B,aAAa,CAAC,EAAD,CAJX,kDAIhC2B,SAJgC,oBAIrBC,eAJqB,wCAKA5B,aAAa,CAAC,EAAD,CALb,mDAKhC6B,UALgC,oBAKpBC,gBALoB,wCAMY9B,aAAa,CAAC,EAAD,CANzB,mDAMhC+B,gBANgC,oBAMdC,sBANc,wCAOIhC,aAAa,CAAC,EAAD,CAPjB,mDAOhCiC,YAPgC,oBAOlBC,kBAPkB,wCAQMlC,aAAa,CAAC,EAAD,CARnB,oDAQhCmC,aARgC,qBAQjBC,mBARiB,oCASAnC,SAAS,CAAC,KAAD,CATT,0CAShCoC,UATgC,gBASpBC,gBAToB,gBAWvC,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAAC,CAAC,CAAI,CAC5BA,CAAC,CAACC,cAAF,GACA,GAAIC,CAAAA,aAAa,CAAG,CAApB,CACA,GAAIhB,QAAJ,CAAc,CACZA,QAAQ,CAACiB,OAAT,CAAiB,SAAAC,CAAC,CAAI,CACpB,GAAIA,CAAC,CAACC,UAAF,CAAeH,aAAnB,CAAkC,CAChCA,aAAa,CAAGE,CAAC,CAACC,UAAF,CAAe,CAA/B,CACD,CAFD,IAEO,CACLH,aAAa,GACd,CACF,CAND,EAOD,CAEDjB,UAAU,CAAC,CACToB,UAAU,CAAEH,aADH,CAETI,aAAa,CAAEnB,SAFN,CAGToB,IAAI,CAAEpB,SAHG,CAITE,UAAU,CAAEA,UAJH,CAKTmB,YAAY,CAAE,CALL,CAMTC,WAAW,CAAEC,QAAQ,CAACnB,gBAAgB,CAAG,EAApB,CANZ,CAOTE,YAAY,CAAEA,YAPL,CAQTE,aAAa,CAAEA,aARN,CASTE,UAAU,CAAEA,UATH,CAAD,CAAV,CAWD,CAxBD,CA0BA,GAAMc,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,SAAM3B,CAAAA,WAAW,CAAC,EAAD,CAAjB,EAAjB,CAEA,MACE,qBAAC,MAAD,EACE,IAAI,CAAED,QAAQ,GAAK,SADrB,CAEE,OAAO,CAAE4B,QAFX,CAGE,kBAAgB,mBAHlB,EAKE,oBAAC,aAAD,EAAe,QAAQ,CAAEZ,gBAAzB,EACE,oBAAC,WAAD,EAAa,EAAE,CAAC,mBAAhB,gBADF,CAEE,oBAAC,aAAD,MACE,oBAAC,iBAAD,2BADF,CAEE,oBAAC,gBAAD,EACE,OAAO,CACL,oBAAC,MAAD,EACE,OAAO,CAAEF,UADX,CAEE,QAAQ,CAAEC,gBAFZ,CAGE,KAAK,CAAED,UAHT,EAFJ,CAQE,KAAK,CAAC,mBARR,EAFF,CAYE,oBAAC,WAAD,EAAa,SAAS,CAAEf,OAAO,CAACR,WAAhC,EACE,oBAAC,aAAD,EACE,SAAS,KADX,CAEE,MAAM,CAAC,OAFT,CAGE,EAAE,CAAC,WAHL,CAIE,KAAK,CAAC,YAJR,CAKE,IAAI,CAAC,MALP,CAME,KAAK,CAAEa,SANT,CAOE,QAAQ,CAAEC,eAPZ,CAQE,SAAS,KARX,CASE,UAAU,CAAE,CAAC,UAAD,CATd,CAUE,aAAa,CAAE,CAAC,sBAAD,CAVjB,CAWE,QAAQ,KAXV,EADF,CAZF,CA2BE,oBAAC,WAAD,EAAa,SAAS,CAAEN,OAAO,CAACR,WAAhC,EACE,oBAAC,aAAD,EACE,MAAM,CAAC,OADT,CAEE,EAAE,CAAC,UAFL,CAGE,KAAK,CAAC,aAHR,CAIE,IAAI,CAAC,MAJP,CAKE,KAAK,CAAEe,UALT,CAME,QAAQ,CAAEC,gBANZ,CAOE,SAAS,KAPX,CAQE,UAAU,CAAE,CAAC,UAAD,CARd,CASE,aAAa,CAAE,CAAC,qBAAD,CATjB,CAUE,QAAQ,KAVV,EADF,CA3BF,CAyCE,oBAAC,WAAD,EAAa,SAAS,CAAER,OAAO,CAACR,WAAhC,EACE,oBAAC,aAAD,EACE,MAAM,CAAC,OADT,CAEE,EAAE,CAAC,cAFL,CAGE,KAAK,CAAC,eAHR,CAIE,IAAI,CAAC,MAJP,CAKE,KAAK,CAAEmB,YALT,CAME,QAAQ,CAAEC,kBANZ,CAOE,SAAS,KAPX,CAQE,UAAU,CAAE,CAAC,UAAD,CARd,CASE,aAAa,CAAE,CAAC,wBAAD,CATjB,CAUE,QAAQ,KAVV,EADF,CAzCF,CAuDG,CAACG,UAAD,EACC,oBAAC,WAAD,EAAa,SAAS,CAAEf,OAAO,CAACR,WAAhC,EACE,oBAAC,aAAD,EACE,MAAM,CAAC,OADT,CAEE,EAAE,CAAC,aAFL,CAGE,KAAK,CAAC,4BAHR,CAIE,IAAI,CAAC,MAJP,CAKE,OAAO,CAAC,QALV,CAME,KAAK,CAAEiB,gBANT,CAOE,QAAQ,CAAEC,sBAPZ,CAQE,SAAS,KARX,CASE,UAAU,CAAE,CAAC,UAAD,CATd,CAUE,aAAa,CAAE,CAAC,wBAAD,CAVjB,CAWE,QAAQ,KAXV,EADF,CAxDJ,CAwEG,CAACK,UAAD,EACC,oBAAC,WAAD,EAAa,SAAS,CAAEf,OAAO,CAACR,WAAhC,EACE,oBAAC,aAAD,EACE,MAAM,CAAC,OADT,CAEE,EAAE,CAAC,eAFL,CAGE,KAAK,CAAC,sBAHR,CAIE,IAAI,CAAC,MAJP,CAKE,OAAO,CAAC,QALV,CAME,KAAK,CAAEqB,aANT,CAOE,QAAQ,CAAEC,mBAPZ,CAQE,SAAS,KARX,CASE,QAAQ,KATV,EADF,CAzEJ,CAFF,CA0FE,oBAAC,aAAD,MACE,oBAAC,MAAD,EAAQ,OAAO,CAAEe,QAAjB,CAA2B,KAAK,CAAC,SAAjC,WADF,CAIE,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,SAA5B,gBAJF,CA1FF,CALF,CADF,CA2GD","sourcesContent":["import React from \"react\";\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\n\nimport useInputState from \"../hooks/useInputState\";\nimport useToggle from \"../hooks/useToggle\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  }\n}));\n\nexport default function EventForm(props) {\n  const classes = useStyles();\n  const { formType, setFormType, addTeacher, teachers } = props;\n\n  const [givenName, updateGivenName] = useInputState(\"\");\n  const [familyName, updateFamilyName] = useInputState(\"\");\n  const [otThresholdHours, updateOtThresholdHours] = useInputState(\"\");\n  const [contractType, updateContractType] = useInputState(\"\");\n  const [dependentsNum, updateDependentsNum] = useInputState(\"\");\n  const [isPartTime, toggleIsPartTime] = useToggle(false);\n\n  const handleAddTeacher = e => {\n    e.preventDefault();\n    let bigResourceId = 1;\n    if (teachers) {\n      teachers.forEach(t => {\n        if (t.resourceId > bigResourceId) {\n          bigResourceId = t.resourceId + 1;\n        } else {\n          bigResourceId++;\n        }\n      });\n    }\n\n    addTeacher({\n      resourceId: bigResourceId,\n      resourceTitle: givenName,\n      name: givenName,\n      familyName: familyName,\n      teachingMins: 0,\n      otThreshold: parseInt(otThresholdHours * 60),\n      contractType: contractType,\n      dependentsNum: dependentsNum,\n      isPartTime: isPartTime\n    });\n  };\n\n  const hideForm = () => setFormType(\"\");\n\n  return (\n    <Dialog\n      open={formType === \"teacher\"}\n      onClose={hideForm}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <ValidatorForm onSubmit={handleAddTeacher}>\n        <DialogTitle id=\"form-dialog-title\">New Teacher</DialogTitle>\n        <DialogContent>\n          <DialogContentText>Enter Teacher Info</DialogContentText>\n          <FormControlLabel\n            control={\n              <Switch\n                checked={isPartTime}\n                onChange={toggleIsPartTime}\n                value={isPartTime}\n              />\n            }\n            label=\"Part-Time Teacher\"\n          />\n          <FormControl className={classes.formControl}>\n            <TextValidator\n              autoFocus\n              margin=\"dense\"\n              id=\"givenName\"\n              label=\"Given Name\"\n              type=\"text\"\n              value={givenName}\n              onChange={updateGivenName}\n              fullWidth\n              validators={[\"required\"]}\n              errorMessages={[\"Enter the Given Name\"]}\n              required\n            />\n          </FormControl>\n          <FormControl className={classes.formControl}>\n            <TextValidator\n              margin=\"dense\"\n              id=\"lastName\"\n              label=\"Family Name\"\n              type=\"text\"\n              value={familyName}\n              onChange={updateFamilyName}\n              fullWidth\n              validators={[\"required\"]}\n              errorMessages={[\"Enter the Last Name\"]}\n              required\n            />\n          </FormControl>\n          <FormControl className={classes.formControl}>\n            <TextValidator\n              margin=\"dense\"\n              id=\"contractType\"\n              label=\"Contract Type\"\n              type=\"text\"\n              value={contractType}\n              onChange={updateContractType}\n              fullWidth\n              validators={[\"required\"]}\n              errorMessages={[\"Select a contract type\"]}\n              required\n            />\n          </FormControl>\n          {!isPartTime && (\n            <FormControl className={classes.formControl}>\n              <TextValidator\n                margin=\"dense\"\n                id=\"otThreshold\"\n                label=\"Overtime threshold (hours)\"\n                type=\"text\"\n                pattern=\"[0-9]*\"\n                value={otThresholdHours}\n                onChange={updateOtThresholdHours}\n                fullWidth\n                validators={[\"required\"]}\n                errorMessages={[\"Set first OT threshold\"]}\n                required\n              />\n            </FormControl>\n          )}\n          {!isPartTime && (\n            <FormControl className={classes.formControl}>\n              <TextValidator\n                margin=\"dense\"\n                id=\"dependentsNum\"\n                label=\"Number of dependents\"\n                type=\"text\"\n                pattern=\"[0-9]*\"\n                value={dependentsNum}\n                onChange={updateDependentsNum}\n                fullWidth\n                required\n              />\n            </FormControl>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={hideForm} color=\"primary\">\n            Cancel\n          </Button>\n          <Button type=\"submit\" color=\"primary\">\n            Add Teacher\n          </Button>\n        </DialogActions>\n      </ValidatorForm>\n    </Dialog>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}