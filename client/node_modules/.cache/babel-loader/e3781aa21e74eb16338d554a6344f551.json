{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StateProvider = StateProvider;\nexports.default = useTimekeeperState;\n\nvar _core = require(\"@emotion/core\");\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectSpread3 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.debounce\"));\n\nvar _time = require(\"../helpers/time\");\n\nvar _configContext = _interopRequireDefault(require(\"./config-context\"));\n\nvar _utils = require(\"../helpers/utils\");\n\nvar _constants = require(\"../helpers/constants\");\n\nvar stateContext = (0, _react.createContext)({});\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'SET_TIME':\n      return (0, _objectSpread3.default)({}, state, {\n        time: action.time,\n        meridiem: action.meridiem || state.meridiem\n      });\n\n    case 'SET_MODE':\n      return (0, _objectSpread3.default)({}, state, {\n        mode: action.mode\n      });\n\n    case 'SET_MERIDIEM':\n      return (0, _objectSpread3.default)({}, state, {\n        meridiem: action.meridiem\n      });\n  }\n\n  return state;\n}\n\nfunction StateProvider(_ref) {\n  var onChange = _ref.onChange,\n      parentTime = _ref.time,\n      children = _ref.children;\n  var config = (0, _configContext.default)();\n\n  var _useReducer = (0, _react.useReducer)(reducer, null, function () {\n    return {\n      time: (0, _time.parseTime)(parentTime),\n      mode: config.hour24Mode ? _constants.MODE.HOURS_24 : _constants.MODE.HOURS_12,\n      // need meridiem for context when 12h mode, so can tell\n      // if user is changing hours before or after 12pm\n      meridiem: (0, _time.parseMeridiem)(parentTime)\n    };\n  }),\n      _useReducer2 = (0, _slicedToArray2.default)(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var mode = state.mode,\n      time = state.time,\n      meridiem = state.meridiem;\n  var refTime = (0, _react.useRef)(time); // handle time update if parent changes\n\n  (0, _react.useEffect)(function () {\n    if (parentTime == null) {\n      return;\n    }\n\n    var newTime = (0, _time.parseTime)(parentTime);\n\n    if ((0, _utils.isSameTime)(newTime, refTime.current)) {\n      return;\n    }\n\n    var action = {\n      type: 'SET_TIME',\n      time: (0, _time.parseTime)(parentTime)\n    };\n\n    if (!config.hour24Mode) {\n      action.meridiem = (0, _time.parseMeridiem)(parentTime);\n    }\n\n    dispatch(action);\n  }, [config.hour24Mode, parentTime]);\n  var getComposedTime = (0, _react.useCallback)(function () {\n    var time = refTime.current;\n    return (0, _time.composeTime)(time.hour, time.minute);\n  }, []); // debounced onChange function from parent\n\n  var debounceUpdateParent = (0, _react.useMemo)(function () {\n    if (typeof onChange === 'function') {\n      return (0, _lodash.default)(function () {\n        onChange(getComposedTime());\n      }, 80);\n    }\n\n    return function () {};\n  }, [getComposedTime, onChange]); // update 24 hour time on meridiem change\n\n  function updateMeridiem(newMeridiem) {\n    if (meridiem === newMeridiem) {\n      return;\n    }\n\n    var newTime = {\n      minute: time.minute,\n      hour: 0\n    };\n\n    if (newMeridiem === 'am') {\n      newTime.hour = time.hour - 12;\n    } else if (newMeridiem === 'pm') {\n      newTime.hour = time.hour + 12;\n    }\n\n    _actuallySetTime(newTime, newMeridiem);\n  } // update time on component and then on parent\n\n\n  function _actuallySetTime(newTime, meridiem) {\n    // update component global state\n    dispatch({\n      type: 'SET_TIME',\n      time: newTime,\n      meridiem: meridiem\n    });\n    refTime.current = newTime; // update time on parent\n\n    debounceUpdateParent();\n  } // this method is called only due to changes in clock actions\n\n\n  function updateTime(val) {\n    // account if minutes is 60 (eg: 59 rounded to 60)\n    val = val % 60; // account for max number being 12 during 12h mode\n\n    if (mode === _constants.MODE.HOURS_12 && meridiem === 'pm') {\n      val += 12;\n    } // generate new time and update timekeeper state\n\n\n    var unit = (0, _utils.isHourMode)(mode) ? 'hour' : 'minute'; // useful for same value when dragging between degrees in hours\n\n    if (refTime.current[unit] === val) {\n      return;\n    }\n\n    var newTime = (0, _objectSpread3.default)({}, time, (0, _defineProperty2.default)({}, unit, val));\n\n    _actuallySetTime(newTime);\n  }\n\n  var setMode = (0, _react.useCallback)(function (mode) {\n    var m = mode;\n\n    if ((0, _utils.isHourMode)(mode)) {\n      m = config.hour24Mode ? _constants.MODE.HOURS_24 : _constants.MODE.HOURS_12;\n    }\n\n    dispatch({\n      type: 'SET_MODE',\n      mode: m\n    });\n  }, [config.hour24Mode]);\n  var value = {\n    time: time,\n    mode: mode,\n    updateTime: updateTime,\n    updateMeridiem: updateMeridiem,\n    setMode: setMode,\n    getComposedTime: getComposedTime\n  };\n  return (0, _core.jsx)(stateContext.Provider, {\n    value: value\n  }, children);\n}\n\nfunction useTimekeeperState() {\n  return (0, _react.useContext)(stateContext);\n}","map":{"version":3,"sources":["/home/miles/webdev/jes-sched/node_modules/react-timekeeper/lib/hooks/state-context.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","StateProvider","default","useTimekeeperState","_core","_defineProperty2","_slicedToArray2","_objectSpread3","_react","_lodash","_time","_configContext","_utils","_constants","stateContext","createContext","reducer","state","action","type","time","meridiem","mode","_ref","onChange","parentTime","children","config","_useReducer","useReducer","parseTime","hour24Mode","MODE","HOURS_24","HOURS_12","parseMeridiem","_useReducer2","dispatch","refTime","useRef","useEffect","newTime","isSameTime","current","getComposedTime","useCallback","composeTime","hour","minute","debounceUpdateParent","useMemo","updateMeridiem","newMeridiem","_actuallySetTime","updateTime","val","unit","isHourMode","setMode","m","jsx","Provider","useContext"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StateProvider = StateProvider;\nexports.default = useTimekeeperState;\n\nvar _core = require(\"@emotion/core\");\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectSpread3 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.debounce\"));\n\nvar _time = require(\"../helpers/time\");\n\nvar _configContext = _interopRequireDefault(require(\"./config-context\"));\n\nvar _utils = require(\"../helpers/utils\");\n\nvar _constants = require(\"../helpers/constants\");\n\nvar stateContext = (0, _react.createContext)({});\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'SET_TIME':\n      return (0, _objectSpread3.default)({}, state, {\n        time: action.time,\n        meridiem: action.meridiem || state.meridiem\n      });\n\n    case 'SET_MODE':\n      return (0, _objectSpread3.default)({}, state, {\n        mode: action.mode\n      });\n\n    case 'SET_MERIDIEM':\n      return (0, _objectSpread3.default)({}, state, {\n        meridiem: action.meridiem\n      });\n  }\n\n  return state;\n}\n\nfunction StateProvider(_ref) {\n  var onChange = _ref.onChange,\n      parentTime = _ref.time,\n      children = _ref.children;\n  var config = (0, _configContext.default)();\n\n  var _useReducer = (0, _react.useReducer)(reducer, null, function () {\n    return {\n      time: (0, _time.parseTime)(parentTime),\n      mode: config.hour24Mode ? _constants.MODE.HOURS_24 : _constants.MODE.HOURS_12,\n      // need meridiem for context when 12h mode, so can tell\n      // if user is changing hours before or after 12pm\n      meridiem: (0, _time.parseMeridiem)(parentTime)\n    };\n  }),\n      _useReducer2 = (0, _slicedToArray2.default)(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var mode = state.mode,\n      time = state.time,\n      meridiem = state.meridiem;\n  var refTime = (0, _react.useRef)(time); // handle time update if parent changes\n\n  (0, _react.useEffect)(function () {\n    if (parentTime == null) {\n      return;\n    }\n\n    var newTime = (0, _time.parseTime)(parentTime);\n\n    if ((0, _utils.isSameTime)(newTime, refTime.current)) {\n      return;\n    }\n\n    var action = {\n      type: 'SET_TIME',\n      time: (0, _time.parseTime)(parentTime)\n    };\n\n    if (!config.hour24Mode) {\n      action.meridiem = (0, _time.parseMeridiem)(parentTime);\n    }\n\n    dispatch(action);\n  }, [config.hour24Mode, parentTime]);\n  var getComposedTime = (0, _react.useCallback)(function () {\n    var time = refTime.current;\n    return (0, _time.composeTime)(time.hour, time.minute);\n  }, []); // debounced onChange function from parent\n\n  var debounceUpdateParent = (0, _react.useMemo)(function () {\n    if (typeof onChange === 'function') {\n      return (0, _lodash.default)(function () {\n        onChange(getComposedTime());\n      }, 80);\n    }\n\n    return function () {};\n  }, [getComposedTime, onChange]); // update 24 hour time on meridiem change\n\n  function updateMeridiem(newMeridiem) {\n    if (meridiem === newMeridiem) {\n      return;\n    }\n\n    var newTime = {\n      minute: time.minute,\n      hour: 0\n    };\n\n    if (newMeridiem === 'am') {\n      newTime.hour = time.hour - 12;\n    } else if (newMeridiem === 'pm') {\n      newTime.hour = time.hour + 12;\n    }\n\n    _actuallySetTime(newTime, newMeridiem);\n  } // update time on component and then on parent\n\n\n  function _actuallySetTime(newTime, meridiem) {\n    // update component global state\n    dispatch({\n      type: 'SET_TIME',\n      time: newTime,\n      meridiem: meridiem\n    });\n    refTime.current = newTime; // update time on parent\n\n    debounceUpdateParent();\n  } // this method is called only due to changes in clock actions\n\n\n  function updateTime(val) {\n    // account if minutes is 60 (eg: 59 rounded to 60)\n    val = val % 60; // account for max number being 12 during 12h mode\n\n    if (mode === _constants.MODE.HOURS_12 && meridiem === 'pm') {\n      val += 12;\n    } // generate new time and update timekeeper state\n\n\n    var unit = (0, _utils.isHourMode)(mode) ? 'hour' : 'minute'; // useful for same value when dragging between degrees in hours\n\n    if (refTime.current[unit] === val) {\n      return;\n    }\n\n    var newTime = (0, _objectSpread3.default)({}, time, (0, _defineProperty2.default)({}, unit, val));\n\n    _actuallySetTime(newTime);\n  }\n\n  var setMode = (0, _react.useCallback)(function (mode) {\n    var m = mode;\n\n    if ((0, _utils.isHourMode)(mode)) {\n      m = config.hour24Mode ? _constants.MODE.HOURS_24 : _constants.MODE.HOURS_12;\n    }\n\n    dispatch({\n      type: 'SET_MODE',\n      mode: m\n    });\n  }, [config.hour24Mode]);\n  var value = {\n    time: time,\n    mode: mode,\n    updateTime: updateTime,\n    updateMeridiem: updateMeridiem,\n    setMode: setMode,\n    getComposedTime: getComposedTime\n  };\n  return (0, _core.jsx)(stateContext.Provider, {\n    value: value\n  }, children);\n}\n\nfunction useTimekeeperState() {\n  return (0, _react.useContext)(stateContext);\n}"]},"metadata":{},"sourceType":"script"}