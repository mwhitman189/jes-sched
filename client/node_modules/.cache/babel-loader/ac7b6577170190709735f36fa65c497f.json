{"ast":null,"code":"import _slicedToArray from \"/home/miles/webdev/jes-sched/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport { createPayPeriodData } from \"../helperFunctions\";\nimport { tokenConfig } from \"../reducers/loadUserReducer\";\nimport { UserContext } from \"../context/UserContext\";\nexport default (initialTeachers => {\n  const _useContext = useContext(UserContext),\n        user = _useContext.user;\n\n  const _useState = useState(initialTeachers),\n        _useState2 = _slicedToArray(_useState, 2),\n        teachers = _useState2[0],\n        setTeachers = _useState2[1];\n\n  return {\n    teachers,\n    setTeachers,\n    getTeachers: async () => {\n      await axios.get(\"/api/teachers\", tokenConfig(user)).then(res => {\n        if (res.data.length > 0) {\n          setTeachers(res.data);\n        }\n      }).catch(err => console.log(err));\n    },\n    addTeacher: async newTeacher => {\n      await axios.post(\"/api/teachers/add\", newTeacher, tokenConfig(user)).then(res => console.log(res.data)).catch(err => console.log(err));\n      return setTeachers([...teachers, newTeacher]);\n    },\n    editEvent: async function (event, editedEvent) {\n      await axios.put(`/api/lessons/update/${event._id}`, editedEvent, tokenConfig(user)).then(res => console.log(res.data)).catch(err => console.log(err));\n      getEvents(todaysDate);\n    },\n    deleteTeacher: async teacher => {\n      await axios.delete(`/api/teachers/delete/${teacher._id}`, tokenConfig(user)).then(res => console.log(res.data)).catch(err => console.log(err));\n      return setTeachers(teachers.filter(t => t._id !== teacher._id));\n    }\n  };\n});","map":{"version":3,"sources":["/home/miles/webdev/jes-sched/client/src/hooks/useStudentsState.js"],"names":["useState","useContext","axios","createPayPeriodData","tokenConfig","UserContext","initialTeachers","user","teachers","setTeachers","getTeachers","get","then","res","data","length","catch","err","console","log","addTeacher","newTeacher","post","editEvent","event","editedEvent","put","_id","getEvents","todaysDate","deleteTeacher","teacher","delete","filter","t"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,UAAnB,QAAqC,OAArC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,mBAAT,QAAoC,oBAApC;AACA,SAASC,WAAT,QAA4B,6BAA5B;AACA,SAASC,WAAT,QAA4B,wBAA5B;AAEA,gBAAgBC,eAAD,IAAqB;AAAA,sBACjBL,UAAU,CAACI,WAAD,CADO;AAAA,QAC1BE,IAD0B,eAC1BA,IAD0B;;AAAA,oBAEFP,QAAQ,CAACM,eAAD,CAFN;AAAA;AAAA,QAE3BE,QAF2B;AAAA,QAEjBC,WAFiB;;AAIlC,SAAO;AACLD,IAAAA,QADK;AAELC,IAAAA,WAFK;AAGLC,IAAAA,WAAW,EAAE,YAAY;AACvB,YAAMR,KAAK,CACRS,GADG,CACC,eADD,EACkBP,WAAW,CAACG,IAAD,CAD7B,EAEHK,IAFG,CAEGC,GAAD,IAAS;AACb,YAAIA,GAAG,CAACC,IAAJ,CAASC,MAAT,GAAkB,CAAtB,EAAyB;AACvBN,UAAAA,WAAW,CAACI,GAAG,CAACC,IAAL,CAAX;AACD;AACF,OANG,EAOHE,KAPG,CAOIC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAPZ,CAAN;AAQD,KAZI;AAaLG,IAAAA,UAAU,EAAE,MAAOC,UAAP,IAAsB;AAChC,YAAMnB,KAAK,CACRoB,IADG,CACE,mBADF,EACuBD,UADvB,EACmCjB,WAAW,CAACG,IAAD,CAD9C,EAEHK,IAFG,CAEGC,GAAD,IAASK,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACC,IAAhB,CAFX,EAGHE,KAHG,CAGIC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHZ,CAAN;AAIA,aAAOR,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAca,UAAd,CAAD,CAAlB;AACD,KAnBI;AAoBLE,IAAAA,SAAS,EAAE,gBAAgBC,KAAhB,EAAuBC,WAAvB,EAAoC;AAC7C,YAAMvB,KAAK,CACRwB,GADG,CACE,uBAAsBF,KAAK,CAACG,GAAI,EADlC,EACqCF,WADrC,EACkDrB,WAAW,CAACG,IAAD,CAD7D,EAEHK,IAFG,CAEGC,GAAD,IAASK,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACC,IAAhB,CAFX,EAGHE,KAHG,CAGIC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHZ,CAAN;AAIAW,MAAAA,SAAS,CAACC,UAAD,CAAT;AACD,KA1BI;AA2BLC,IAAAA,aAAa,EAAE,MAAOC,OAAP,IAAmB;AAChC,YAAM7B,KAAK,CACR8B,MADG,CACK,wBAAuBD,OAAO,CAACJ,GAAI,EADxC,EAC2CvB,WAAW,CAACG,IAAD,CADtD,EAEHK,IAFG,CAEGC,GAAD,IAASK,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACC,IAAhB,CAFX,EAGHE,KAHG,CAGIC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHZ,CAAN;AAIA,aAAOR,WAAW,CAACD,QAAQ,CAACyB,MAAT,CAAiBC,CAAD,IAAOA,CAAC,CAACP,GAAF,KAAUI,OAAO,CAACJ,GAAzC,CAAD,CAAlB;AACD;AAjCI,GAAP;AAmCD,CAvCD","sourcesContent":["import { useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport { createPayPeriodData } from \"../helperFunctions\";\nimport { tokenConfig } from \"../reducers/loadUserReducer\";\nimport { UserContext } from \"../context/UserContext\";\n\nexport default (initialTeachers) => {\n  const { user } = useContext(UserContext);\n  const [teachers, setTeachers] = useState(initialTeachers);\n\n  return {\n    teachers,\n    setTeachers,\n    getTeachers: async () => {\n      await axios\n        .get(\"/api/teachers\", tokenConfig(user))\n        .then((res) => {\n          if (res.data.length > 0) {\n            setTeachers(res.data);\n          }\n        })\n        .catch((err) => console.log(err));\n    },\n    addTeacher: async (newTeacher) => {\n      await axios\n        .post(\"/api/teachers/add\", newTeacher, tokenConfig(user))\n        .then((res) => console.log(res.data))\n        .catch((err) => console.log(err));\n      return setTeachers([...teachers, newTeacher]);\n    },\n    editEvent: async function (event, editedEvent) {\n      await axios\n        .put(`/api/lessons/update/${event._id}`, editedEvent, tokenConfig(user))\n        .then((res) => console.log(res.data))\n        .catch((err) => console.log(err));\n      getEvents(todaysDate);\n    },\n    deleteTeacher: async (teacher) => {\n      await axios\n        .delete(`/api/teachers/delete/${teacher._id}`, tokenConfig(user))\n        .then((res) => console.log(res.data))\n        .catch((err) => console.log(err));\n      return setTeachers(teachers.filter((t) => t._id !== teacher._id));\n    },\n  };\n};\n"]},"metadata":{},"sourceType":"module"}