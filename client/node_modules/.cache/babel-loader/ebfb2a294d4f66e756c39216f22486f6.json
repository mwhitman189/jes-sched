{"ast":null,"code":"import moment from \"moment\";\n\nfunction validateRoom(events, event) {\n  return events.every(e => {\n    if (testDateOverlap([e.start, e.end], [moment(new Date(start)), moment(moment(new Date(start)).add(event.duration, \"m\").toDate())])) {\n      return parseInt(e.room) !== parseInt(event.room);\n    }\n\n    return true;\n  });\n}\n\nfunction validateTeacher(events, event) {\n  return events.every(otherEvent => {\n    if (testDateOverlap([otherEvent.start, otherEvent.end], [moment(new Date(event.start)), moment(moment(new Date(event.start)).add(parseInt(event.duration), \"m\").toDate())])) {\n      return parseInt(otherEvent.resourceId) !== parseInt(event.resourceId);\n    }\n\n    return true;\n  });\n}\n\nfunction testDateOverlap(dateArr, testDateArr) {\n  if (testDateArr[0].isBetween(dateArr[0], dateArr[1], null, \"[]\") || testDateArr[1].isBetween(dateArr[0], dateArr[1], null, \"[]\")) {\n    return true;\n  }\n}\n\nexport { validateRoom, validateTeacher };","map":{"version":3,"sources":["/home/miles/webdev/jes-sched/client/src/validators.js"],"names":["moment","validateRoom","events","event","every","e","testDateOverlap","start","end","Date","add","duration","toDate","parseInt","room","validateTeacher","otherEvent","resourceId","dateArr","testDateArr","isBetween"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;;AAEA,SAASC,YAAT,CAAsBC,MAAtB,EAA8BC,KAA9B,EAAqC;AACnC,SAAOD,MAAM,CAACE,KAAP,CAAcC,CAAD,IAAO;AACzB,QACEC,eAAe,CACb,CAACD,CAAC,CAACE,KAAH,EAAUF,CAAC,CAACG,GAAZ,CADa,EAEb,CACER,MAAM,CAAC,IAAIS,IAAJ,CAASF,KAAT,CAAD,CADR,EAEEP,MAAM,CAACA,MAAM,CAAC,IAAIS,IAAJ,CAASF,KAAT,CAAD,CAAN,CAAwBG,GAAxB,CAA4BP,KAAK,CAACQ,QAAlC,EAA4C,GAA5C,EAAiDC,MAAjD,EAAD,CAFR,CAFa,CADjB,EAQE;AACA,aAAOC,QAAQ,CAACR,CAAC,CAACS,IAAH,CAAR,KAAqBD,QAAQ,CAACV,KAAK,CAACW,IAAP,CAApC;AACD;;AACD,WAAO,IAAP;AACD,GAbM,CAAP;AAcD;;AAED,SAASC,eAAT,CAAyBb,MAAzB,EAAiCC,KAAjC,EAAwC;AACtC,SAAOD,MAAM,CAACE,KAAP,CAAcY,UAAD,IAAgB;AAClC,QACEV,eAAe,CACb,CAACU,UAAU,CAACT,KAAZ,EAAmBS,UAAU,CAACR,GAA9B,CADa,EAEb,CACER,MAAM,CAAC,IAAIS,IAAJ,CAASN,KAAK,CAACI,KAAf,CAAD,CADR,EAEEP,MAAM,CACJA,MAAM,CAAC,IAAIS,IAAJ,CAASN,KAAK,CAACI,KAAf,CAAD,CAAN,CACGG,GADH,CACOG,QAAQ,CAACV,KAAK,CAACQ,QAAP,CADf,EACiC,GADjC,EAEGC,MAFH,EADI,CAFR,CAFa,CADjB,EAYE;AACA,aAAOC,QAAQ,CAACG,UAAU,CAACC,UAAZ,CAAR,KAAoCJ,QAAQ,CAACV,KAAK,CAACc,UAAP,CAAnD;AACD;;AACD,WAAO,IAAP;AACD,GAjBM,CAAP;AAkBD;;AAED,SAASX,eAAT,CAAyBY,OAAzB,EAAkCC,WAAlC,EAA+C;AAC7C,MACEA,WAAW,CAAC,CAAD,CAAX,CAAeC,SAAf,CAAyBF,OAAO,CAAC,CAAD,CAAhC,EAAqCA,OAAO,CAAC,CAAD,CAA5C,EAAiD,IAAjD,EAAuD,IAAvD,KACAC,WAAW,CAAC,CAAD,CAAX,CAAeC,SAAf,CAAyBF,OAAO,CAAC,CAAD,CAAhC,EAAqCA,OAAO,CAAC,CAAD,CAA5C,EAAiD,IAAjD,EAAuD,IAAvD,CAFF,EAGE;AACA,WAAO,IAAP;AACD;AACF;;AAED,SAASjB,YAAT,EAAuBc,eAAvB","sourcesContent":["import moment from \"moment\";\n\nfunction validateRoom(events, event) {\n  return events.every((e) => {\n    if (\n      testDateOverlap(\n        [e.start, e.end],\n        [\n          moment(new Date(start)),\n          moment(moment(new Date(start)).add(event.duration, \"m\").toDate()),\n        ]\n      )\n    ) {\n      return parseInt(e.room) !== parseInt(event.room);\n    }\n    return true;\n  });\n}\n\nfunction validateTeacher(events, event) {\n  return events.every((otherEvent) => {\n    if (\n      testDateOverlap(\n        [otherEvent.start, otherEvent.end],\n        [\n          moment(new Date(event.start)),\n          moment(\n            moment(new Date(event.start))\n              .add(parseInt(event.duration), \"m\")\n              .toDate()\n          ),\n        ]\n      )\n    ) {\n      return parseInt(otherEvent.resourceId) !== parseInt(event.resourceId);\n    }\n    return true;\n  });\n}\n\nfunction testDateOverlap(dateArr, testDateArr) {\n  if (\n    testDateArr[0].isBetween(dateArr[0], dateArr[1], null, \"[]\") ||\n    testDateArr[1].isBetween(dateArr[0], dateArr[1], null, \"[]\")\n  ) {\n    return true;\n  }\n}\n\nexport { validateRoom, validateTeacher };\n"]},"metadata":{},"sourceType":"module"}