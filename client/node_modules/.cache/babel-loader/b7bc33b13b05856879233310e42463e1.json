{"ast":null,"code":"import _objectSpread from \"/home/miles/webdev/jes-sched/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport axios from \"axios\";\nimport { createPayPeriodData } from \"../helperFunctions\";\nimport uuid from \"uuid/v4\";\n\nconst reducer = async (state, action) => {\n  const teacher = action.teacher;\n\n  switch (action.type) {\n    case \"ADD_TEACHER\":\n      await axios.post(\"/teachers/add\", teacher).then(res => console.log(res.data)).catch(err => console.log(err));\n      return [...state, {\n        id: uuid(),\n        teacher\n      }];\n\n    case \"DELETE_TEACHER\":\n      await axios.delete(`/teachers/delete/${teacher._id}`).then(res => console.log(res.data)).catch(err => console.log(err));\n      return state.filter(t => t.id !== action.id);\n\n    case \"UPDATE_TEACHER\":\n      await axios.put(`/teachers/update/${teacher._id}`, teacher).then(res => console.log(res.data)).catch(err => console.log(err));\n      return state.map(t => t.id === action.id ? _objectSpread({}, t, {\n        resourceTitle: t.resourceTitle,\n        name: t.name,\n        familyName: t.familyName,\n        teachingMins: t.teachingMins,\n        holidayMins: t.holidayMins,\n        outsideDutyMins: t.outsideDutyMins,\n        otThreshold: t.otThreshold,\n        overThresholdOneMins: t.overThresholdOneMins,\n        overThresholdTwoMins: t.overThresholdTwoMins\n      }) : t);\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/miles/webdev/jes-sched/client/src/reducers/teachersReducer.js"],"names":["axios","createPayPeriodData","uuid","reducer","state","action","teacher","type","post","then","res","console","log","data","catch","err","id","delete","_id","filter","t","put","map","resourceTitle","name","familyName","teachingMins","holidayMins","outsideDutyMins","otThreshold","overThresholdOneMins","overThresholdTwoMins"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,mBAAT,QAAoC,oBAApC;AACA,OAAOC,IAAP,MAAiB,SAAjB;;AAEA,MAAMC,OAAO,GAAG,OAAOC,KAAP,EAAcC,MAAd,KAAyB;AACvC,QAAMC,OAAO,GAAGD,MAAM,CAACC,OAAvB;;AACA,UAAQD,MAAM,CAACE,IAAf;AACE,SAAK,aAAL;AACE,YAAMP,KAAK,CACRQ,IADG,CACE,eADF,EACmBF,OADnB,EAEHG,IAFG,CAEEC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,CAFT,EAGHC,KAHG,CAGGC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAHV,CAAN;AAIA,aAAO,CAAC,GAAGX,KAAJ,EAAW;AAAEY,QAAAA,EAAE,EAAEd,IAAI,EAAV;AAAcI,QAAAA;AAAd,OAAX,CAAP;;AAEF,SAAK,gBAAL;AACE,YAAMN,KAAK,CACRiB,MADG,CACK,oBAAmBX,OAAO,CAACY,GAAI,EADpC,EAEHT,IAFG,CAEEC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,CAFT,EAGHC,KAHG,CAGGC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAHV,CAAN;AAIA,aAAOX,KAAK,CAACe,MAAN,CAAaC,CAAC,IAAIA,CAAC,CAACJ,EAAF,KAASX,MAAM,CAACW,EAAlC,CAAP;;AAEF,SAAK,gBAAL;AACE,YAAMhB,KAAK,CACRqB,GADG,CACE,oBAAmBf,OAAO,CAACY,GAAI,EADjC,EACoCZ,OADpC,EAEHG,IAFG,CAEEC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,CAFT,EAGHC,KAHG,CAGGC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAHV,CAAN;AAIA,aAAOX,KAAK,CAACkB,GAAN,CAAUF,CAAC,IAChBA,CAAC,CAACJ,EAAF,KAASX,MAAM,CAACW,EAAhB,qBAESI,CAFT;AAGMG,QAAAA,aAAa,EAAEH,CAAC,CAACG,aAHvB;AAIMC,QAAAA,IAAI,EAAEJ,CAAC,CAACI,IAJd;AAKMC,QAAAA,UAAU,EAAEL,CAAC,CAACK,UALpB;AAMMC,QAAAA,YAAY,EAAEN,CAAC,CAACM,YANtB;AAOMC,QAAAA,WAAW,EAAEP,CAAC,CAACO,WAPrB;AAQMC,QAAAA,eAAe,EAAER,CAAC,CAACQ,eARzB;AASMC,QAAAA,WAAW,EAAET,CAAC,CAACS,WATrB;AAUMC,QAAAA,oBAAoB,EAAEV,CAAC,CAACU,oBAV9B;AAWMC,QAAAA,oBAAoB,EAAEX,CAAC,CAACW;AAX9B,WAaIX,CAdC,CAAP;;AAgBF;AACE,aAAOhB,KAAP;AArCJ;AAuCD,CAzCD;;AA0CA,eAAeD,OAAf","sourcesContent":["import axios from \"axios\";\nimport { createPayPeriodData } from \"../helperFunctions\";\nimport uuid from \"uuid/v4\";\n\nconst reducer = async (state, action) => {\n  const teacher = action.teacher;\n  switch (action.type) {\n    case \"ADD_TEACHER\":\n      await axios\n        .post(\"/teachers/add\", teacher)\n        .then(res => console.log(res.data))\n        .catch(err => console.log(err));\n      return [...state, { id: uuid(), teacher }];\n\n    case \"DELETE_TEACHER\":\n      await axios\n        .delete(`/teachers/delete/${teacher._id}`)\n        .then(res => console.log(res.data))\n        .catch(err => console.log(err));\n      return state.filter(t => t.id !== action.id);\n\n    case \"UPDATE_TEACHER\":\n      await axios\n        .put(`/teachers/update/${teacher._id}`, teacher)\n        .then(res => console.log(res.data))\n        .catch(err => console.log(err));\n      return state.map(t =>\n        t.id === action.id\n          ? {\n              ...t,\n              resourceTitle: t.resourceTitle,\n              name: t.name,\n              familyName: t.familyName,\n              teachingMins: t.teachingMins,\n              holidayMins: t.holidayMins,\n              outsideDutyMins: t.outsideDutyMins,\n              otThreshold: t.otThreshold,\n              overThresholdOneMins: t.overThresholdOneMins,\n              overThresholdTwoMins: t.overThresholdTwoMins\n            }\n          : t\n      );\n    default:\n      return state;\n  }\n};\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}