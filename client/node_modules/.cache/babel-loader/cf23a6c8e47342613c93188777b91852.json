{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = Resources;\nexports.NONE = void 0;\nvar NONE = {};\nexports.NONE = NONE;\n\nfunction Resources(resources, accessors) {\n  return {\n    map: function map(fn) {\n      if (!resources || resources.length < 1) return [fn([NONE, null], 0)];\n      return resources.map(function (resource, idx) {\n        return fn([accessors.resourceId(resource), resource], idx);\n      });\n    },\n    groupEvents: function groupEvents(events) {\n      var eventsByResource = new Map();\n\n      if (!resources || resources.length < 1) {\n        // Return all events if resources are not provided\n        eventsByResource.set(NONE, events);\n        return eventsByResource;\n      }\n\n      var otherResources = resources.filter(r => r.isPartTime === true).map(r => r.resourceId);\n      events.forEach(function (event) {\n        var id = accessors.resource(event) || NONE;\n        var resourceEvents;\n\n        if (otherResources.includes(id)) {\n          resourceEvents = eventsByResource.get(otherResources[0]) || [];\n          resourceEvents.push(event);\n          eventsByResource.set(otherResources[0], resourceEvents);\n        } else {\n          resourceEvents = eventsByResource.get(id) || [];\n          resourceEvents.push(event);\n          eventsByResource.set(id, resourceEvents);\n        }\n      });\n      return eventsByResource;\n    }\n  };\n}","map":{"version":3,"sources":["/home/miles/webdev/jes-sched/client/node_modules/react-big-calendar/lib/utils/Resources.js"],"names":["exports","__esModule","default","Resources","NONE","resources","accessors","map","fn","length","resource","idx","resourceId","groupEvents","events","eventsByResource","Map","set","otherResources","filter","r","isPartTime","forEach","event","id","resourceEvents","includes","get","push"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACE,OAAR,GAAkBC,SAAlB;AACAH,OAAO,CAACI,IAAR,GAAe,KAAK,CAApB;AACA,IAAIA,IAAI,GAAG,EAAX;AACAJ,OAAO,CAACI,IAAR,GAAeA,IAAf;;AAEA,SAASD,SAAT,CAAmBE,SAAnB,EAA8BC,SAA9B,EAAyC;AACvC,SAAO;AACLC,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,EAAb,EAAiB;AACpB,UAAI,CAACH,SAAD,IAAcA,SAAS,CAACI,MAAV,GAAmB,CAArC,EAAwC,OAAO,CAACD,EAAE,CAAC,CAACJ,IAAD,EAAO,IAAP,CAAD,EAAe,CAAf,CAAH,CAAP;AACxC,aAAOC,SAAS,CAACE,GAAV,CAAc,UAAUG,QAAV,EAAoBC,GAApB,EAAyB;AAE5C,eAAOH,EAAE,CAAC,CAACF,SAAS,CAACM,UAAV,CAAqBF,QAArB,CAAD,EAAiCA,QAAjC,CAAD,EAA+CC,GAA/C,CAAT;AACD,OAHM,CAAP;AAID,KAPI;AAQLE,IAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBC,MAArB,EAA6B;AACxC,UAAIC,gBAAgB,GAAG,IAAIC,GAAJ,EAAvB;;AAEA,UAAI,CAACX,SAAD,IAAcA,SAAS,CAACI,MAAV,GAAmB,CAArC,EAAwC;AACtC;AACAM,QAAAA,gBAAgB,CAACE,GAAjB,CAAqBb,IAArB,EAA2BU,MAA3B;AACA,eAAOC,gBAAP;AACD;;AAED,UAAIG,cAAc,GAAGb,SAAS,CAC7Bc,MADoB,CACbC,CAAC,IAAIA,CAAC,CAACC,UAAF,KAAiB,IADT,EAEpBd,GAFoB,CAEhBa,CAAC,IAAIA,CAAC,CAACR,UAFS,CAArB;AAIAE,MAAAA,MAAM,CAACQ,OAAP,CAAe,UAAUC,KAAV,EAAiB;AAC9B,YAAIC,EAAE,GAAGlB,SAAS,CAACI,QAAV,CAAmBa,KAAnB,KAA6BnB,IAAtC;AACA,YAAIqB,cAAJ;;AAEA,YAAIP,cAAc,CAACQ,QAAf,CAAwBF,EAAxB,CAAJ,EAAiC;AAC/BC,UAAAA,cAAc,GAAGV,gBAAgB,CAACY,GAAjB,CAAqBT,cAAc,CAAC,CAAD,CAAnC,KAA2C,EAA5D;AACAO,UAAAA,cAAc,CAACG,IAAf,CAAoBL,KAApB;AACAR,UAAAA,gBAAgB,CAACE,GAAjB,CAAqBC,cAAc,CAAC,CAAD,CAAnC,EAAwCO,cAAxC;AACD,SAJD,MAIO;AACLA,UAAAA,cAAc,GAAGV,gBAAgB,CAACY,GAAjB,CAAqBH,EAArB,KAA4B,EAA7C;AACAC,UAAAA,cAAc,CAACG,IAAf,CAAoBL,KAApB;AACAR,UAAAA,gBAAgB,CAACE,GAAjB,CAAqBO,EAArB,EAAyBC,cAAzB;AACD;AACF,OAbD;AAcA,aAAOV,gBAAP;AACD;AApCI,GAAP;AAsCD","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = Resources;\nexports.NONE = void 0;\nvar NONE = {};\nexports.NONE = NONE;\n\nfunction Resources(resources, accessors) {\n  return {\n    map: function map(fn) {\n      if (!resources || resources.length < 1) return [fn([NONE, null], 0)];\n      return resources.map(function (resource, idx) {\n        \n        return fn([accessors.resourceId(resource), resource, ], idx);\n      });\n    },\n    groupEvents: function groupEvents(events) {\n      var eventsByResource = new Map();\n\n      if (!resources || resources.length < 1) {\n        // Return all events if resources are not provided\n        eventsByResource.set(NONE, events);\n        return eventsByResource;\n      }\n\n      var otherResources = resources\n      .filter(r => r.isPartTime === true)\n      .map(r => r.resourceId)\n\n      events.forEach(function (event) {\n        var id = accessors.resource(event) || NONE;\n        var resourceEvents;\n        \n        if (otherResources.includes(id)) {\n          resourceEvents = eventsByResource.get(otherResources[0]) || [];\n          resourceEvents.push(event);\n          eventsByResource.set(otherResources[0], resourceEvents);\n        } else {\n          resourceEvents = eventsByResource.get(id) || [];\n          resourceEvents.push(event);\n          eventsByResource.set(id, resourceEvents);\n        }\n      });\n      return eventsByResource;\n    }\n  };\n}"]},"metadata":{},"sourceType":"script"}