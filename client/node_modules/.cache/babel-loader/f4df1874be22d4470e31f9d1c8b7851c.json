{"ast":null,"code":"import _slicedToArray from \"/home/miles/webdev/jes-sched/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/miles/webdev/jes-sched/client/src/components/CustomToolbar.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { TeachersContext } from \"../context/TeachersContext\";\nimport { UserContext } from \"../context/UserContext\";\nimport useStyles from \"../styles/LessonEventStyles\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport RightArrowIcon from \"@material-ui/icons/ChevronRight\";\nimport LeftArrowIcon from \"@material-ui/icons/ChevronLeft\";\nimport Button from \"@material-ui/core/Button\";\nimport ToolbarMenu from \"./ToolbarMenu\";\nimport ToolbarMenuItem from \"./ToolbarMenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport AttachMoneyIcon from \"@material-ui/icons/AttachMoney\";\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport styles from \"../styles/CustomToolbarStyles\";\nimport \"react-big-calendar/lib/sass/toolbar.scss\"; // Debounce to prevent re-renders on every single dimension change\n\nfunction debounce(fn, ms) {\n  let timer;\n  return _ => {\n    clearTimeout(timer);\n    timer = setTimeout(_ => {\n      timer = null;\n      fn.apply(this, arguments);\n    }, ms);\n  };\n}\n\nconst CustomToolbar = props => {\n  const onNavigate = props.onNavigate,\n        isRTL = props.isRTL,\n        date = props.date,\n        handleAddTeacherNav = props.handleAddTeacherNav,\n        handlePayrollNav = props.handlePayrollNav,\n        handleAddStaffNav = props.handleAddStaffNav,\n        handleAddStudentNav = props.handleAddStudentNav;\n  const classes = useStyles();\n\n  const _useContext = useContext(TeachersContext),\n        teachers = _useContext.teachers;\n\n  const _useContext2 = useContext(UserContext),\n        user = _useContext2.user,\n        dispatch = _useContext2.dispatch;\n\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        anchorEl = _useState2[0],\n        setAnchorEl = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        stage = _useState4[0],\n        setStage = _useState4[1];\n\n  const _useState5 = useState({\n    height: window.innerHeight,\n    width: window.innerWidth\n  }),\n        _useState6 = _slicedToArray(_useState5, 2),\n        dimensions = _useState6[0],\n        setDimensions = _useState6[1];\n\n  useEffect(() => {\n    const debouncedHandleResize = debounce(function handleResize() {\n      setDimensions({\n        height: window.innerHeight,\n        width: window.innerWidth\n      });\n    }, 1000);\n    window.addEventListener(\"resize\", debouncedHandleResize);\n    return _ => {\n      window.removeEventListener(\"resize\", debouncedHandleResize);\n    };\n  });\n  const itemTypes = [{\n    itemType: \"teacher\",\n    title: \"Add new teacher\",\n    onClickEvent: handleAddTeacherNav\n  }, {\n    itemType: \"staff\",\n    title: \"Add new staff\",\n    onClickEvent: handleAddStaffNav\n  }, {\n    itemType: \"student\",\n    title: \"Add new student\",\n    onClickEvent: () => {\n      handleAddStudentNav();\n      setStage(\"\");\n    }\n  }];\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleAddNewNav = () => {\n    setStage(\"addNewPerson\");\n  };\n\n  const handleCloseAddNew = () => {\n    setStage(\"\");\n  }; // Search for user in teachers. If user is teacher, return teacher object\n  // for use in conditional rendering of teaching minutes\n\n\n  const teacher = user.user.role === \"teacher\" && teachers.find(t => t.email === user.user.email);\n\n  const handleLogout = e => {\n    e.preventDefault();\n    dispatch({\n      type: \"LOGOUT_SUCCESS\"\n    });\n  }; // const StyledMenu = withStyles({\n  //   paper: {\n  //     border: \"1px solid #d3d4d5\",\n  //   },\n  // })((props) => (\n  //   <Menu\n  //     elevation={0}\n  //     getContentAnchorEl={null}\n  //     anchorOrigin={{\n  //       vertical: \"bottom\",\n  //       horizontal: \"center\",\n  //     }}\n  //     transformOrigin={{\n  //       vertical: \"top\",\n  //       horizontal: \"center\",\n  //     }}\n  //     {...props}\n  //   />\n  // ));\n\n\n  const ToolbarMenuItem = withStyles(theme => ({\n    root: {\n      \"&:focus\": {\n        backgroundColor: theme.palette.primary.main,\n        \"& .MuiListItemIcon-root, & .MuiListItemText-primary\": {\n          color: theme.palette.common.white\n        }\n      }\n    }\n  }))(MenuItem);\n  const collapseToolbar = React.createElement(\"div\", {\n    className: classes.toolbar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(Dialog, {\n    \"aria-labelledby\": \"add-new-item-select\",\n    open: stage === \"addNewPerson\",\n    onClose: handleCloseAddNew,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(DialogTitle, {\n    id: \"add-new-item-select\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, \"Add New...\"), React.createElement(List, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, itemTypes.map(t => React.createElement(ListItem, {\n    button: true,\n    onClick: t.onClickEvent,\n    key: t.itemType,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, React.createElement(ListItemAvatar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(Avatar, {\n    className: classes.avatar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(PersonIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }))), React.createElement(ListItemText, {\n    primary: t.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }))))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }), React.createElement(\"ul\", {\n    style: {\n      padding: 0\n    },\n    className: classes.teacherList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, // If user is a teacher, list the user's teaching minutes.\n  // Otherwise, list all teachers' teaching minutes.\n  teacher ? React.createElement(\"li\", {\n    className: teacher.isPartTime ? classes.listItemYellow : teacher.overThresholdTwoMins > 0 ? classes.listItemRed : teacher.overThresholdOneMins > 0 ? classes.listItemYellow : classes.listItem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, `${teacher.name}: ${teacher.teachingMins}`) : teachers && teachers.map(t => React.createElement(\"li\", {\n    className: t.isPartTime ? classes.listItemYellow : t.overThresholdTwoMins > 0 ? classes.listItemRed : t.overThresholdOneMins > 0 ? classes.listItemYellow : classes.listItem,\n    key: t.resourceId,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, `${t.name}: ${t.teachingMins}`))), React.createElement(Button, {\n    \"aria-controls\": \"customized-menu\",\n    \"aria-haspopup\": \"true\",\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, \"Menu\"), React.createElement(ToolbarMenu, {\n    id: \"customized-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }, React.createElement(ToolbarMenuItem, {\n    className: classes.navBtnNav,\n    type: \"button\",\n    onClick: () => onNavigate(\"PREV\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }, React.createElement(ListItemIcon, {\n    style: {\n      minWidth: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  }, React.createElement(LeftArrowIcon, {\n    fontSize: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235\n    },\n    __self: this\n  }))), React.createElement(ToolbarMenuItem, {\n    className: classes.navBtnNav,\n    type: \"button\",\n    onClick: () => onNavigate(\"NEXT\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, React.createElement(ListItemIcon, {\n    style: {\n      minWidth: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  }, React.createElement(RightArrowIcon, {\n    fontSize: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  })))), user.user.role !== \"teacher\" && React.createElement(React.Fragment, null, React.createElement(ToolbarMenuItem, {\n    className: classes.navBtn,\n    onClick: handleAddNewNav,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251\n    },\n    __self: this\n  }, React.createElement(ListItemIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255\n    },\n    __self: this\n  }, React.createElement(PersonAddIcon, {\n    className: classes.icon,\n    fontSize: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256\n    },\n    __self: this\n  })), React.createElement(ListItemText, {\n    primary: \"Add New ____\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258\n    },\n    __self: this\n  })), React.createElement(ToolbarMenuItem, {\n    className: classes.navBtn,\n    onClick: handlePayrollNav,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260\n    },\n    __self: this\n  }, React.createElement(ListItemIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264\n    },\n    __self: this\n  }, React.createElement(AttachMoneyIcon, {\n    fontSize: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265\n    },\n    __self: this\n  })), React.createElement(ListItemText, {\n    primary: \"Payroll\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267\n    },\n    __self: this\n  }))), React.createElement(ToolbarMenuItem, {\n    style: {\n      background: \"#f50057\",\n      background: \"linear-gradient(0deg, rgba(186, 4, 68,1) 7%, rgba(245, 0, 86,1) 100%)\"\n    },\n    className: classes.navBtn,\n    onClick: handleLogout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  }, React.createElement(ListItemIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280\n    },\n    __self: this\n  }, React.createElement(ExitToAppIcon, {\n    fontSize: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281\n    },\n    __self: this\n  })), React.createElement(ListItemText, {\n    primary: \"Logout\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283\n    },\n    __self: this\n  }))));\n  const fullSizeToolbar = React.createElement(\"div\", {\n    className: classes.toolbar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290\n    },\n    __self: this\n  }, React.createElement(Dialog, {\n    \"aria-labelledby\": \"add-new-item-select\",\n    open: stage === \"addNewPerson\",\n    onClose: handleCloseAddNew,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291\n    },\n    __self: this\n  }, React.createElement(DialogTitle, {\n    id: \"add-new-item-select\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296\n    },\n    __self: this\n  }, \"Add New...\"), React.createElement(List, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297\n    },\n    __self: this\n  }, itemTypes.map(t => React.createElement(ListItem, {\n    button: true,\n    onClick: t.onClickEvent,\n    key: t.itemType,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299\n    },\n    __self: this\n  }, React.createElement(ListItemAvatar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300\n    },\n    __self: this\n  }, React.createElement(Avatar, {\n    className: classes.avatar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301\n    },\n    __self: this\n  }, React.createElement(PersonIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302\n    },\n    __self: this\n  }))), React.createElement(ListItemText, {\n    primary: t.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305\n    },\n    __self: this\n  }))))), React.createElement(\"div\", {\n    className: classes.btnGroup,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    className: classes.navBtn,\n    type: \"button\",\n    onClick: () => onNavigate(\"PREV\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311\n    },\n    __self: this\n  }, React.createElement(LeftArrowIcon, {\n    className: classes.navIcon,\n    icon: isRTL ? \"chevron-right\" : \"chevron-left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316\n    },\n    __self: this\n  })), React.createElement(\"span\", {\n    className: classes.todayLabel,\n    onClick: () => onNavigate(\"TODAY\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321\n    },\n    __self: this\n  }, moment(date).format(\"MM/DD\").toLocaleString()), React.createElement(IconButton, {\n    className: classes.navBtn,\n    type: \"button\",\n    onClick: () => onNavigate(\"NEXT\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327\n    },\n    __self: this\n  }, React.createElement(RightArrowIcon, {\n    className: classes.navIcon,\n    icon: isRTL ? \"chevron-left\" : \"chevron-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332\n    },\n    __self: this\n  }))), React.createElement(\"ul\", {\n    className: classes.teacherList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338\n    },\n    __self: this\n  }, // If teacher is defined because user is a teacher, list user's teaching mins.\n  // Otherwise, list all teachers' teaching mins\n  teacher ? React.createElement(\"li\", {\n    className: teacher.isPartTime ? classes.listItemYellow : teacher.overThresholdTwoMins > 0 ? classes.listItemRed : teacher.overThresholdOneMins > 0 ? classes.listItemYellow : classes.listItem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343\n    },\n    __self: this\n  }, `${teacher.name}: ${teacher.teachingMins}`) : teachers && teachers.map(t => React.createElement(\"li\", {\n    className: t.isPartTime ? classes.listItemYellow : t.overThresholdTwoMins > 0 ? classes.listItemRed : t.overThresholdOneMins > 0 ? classes.listItemYellow : classes.listItem,\n    key: t.resourceId,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357\n    },\n    __self: this\n  }, `${t.name}: ${t.teachingMins}`))), React.createElement(\"div\", {\n    className: classes.btnGroup,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373\n    },\n    __self: this\n  }, user.user.role !== \"teacher\" && React.createElement(React.Fragment, null, React.createElement(\"button\", {\n    className: classes.navBtn,\n    onClick: handleAddNewNav,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376\n    },\n    __self: this\n  }, React.createElement(PersonAddIcon, {\n    className: classes.icon,\n    fontSize: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377\n    },\n    __self: this\n  }), \"Add New...\"), React.createElement(\"button\", {\n    className: classes.navBtn,\n    onClick: handlePayrollNav,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380\n    },\n    __self: this\n  }, React.createElement(AttachMoneyIcon, {\n    className: classes.icon,\n    fontSize: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381\n    },\n    __self: this\n  }), \"Payroll\")), React.createElement(\"button\", {\n    style: {\n      background: \"#f50057\",\n      background: \"linear-gradient(0deg, rgba(186, 4, 68,1) 7%, rgba(245, 0, 86,1) 100%)\"\n    },\n    className: classes.navBtn,\n    onClick: handleLogout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387\n    },\n    __self: this\n  }, React.createElement(ExitToAppIcon, {\n    className: classes.icon,\n    fontSize: \"small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396\n    },\n    __self: this\n  }), \"Logout\")));\n  return dimensions.width < 750 ? collapseToolbar : fullSizeToolbar;\n};\n\nexport default withStyles(styles)(CustomToolbar);","map":{"version":3,"sources":["/home/miles/webdev/jes-sched/client/src/components/CustomToolbar.js"],"names":["React","useContext","useState","useEffect","moment","TeachersContext","UserContext","useStyles","IconButton","RightArrowIcon","LeftArrowIcon","Button","ToolbarMenu","ToolbarMenuItem","Menu","MenuItem","ListItemIcon","ListItemText","ExitToAppIcon","AttachMoneyIcon","PersonAddIcon","Avatar","List","ListItem","ListItemAvatar","Dialog","PersonIcon","DialogTitle","styles","debounce","fn","ms","timer","_","clearTimeout","setTimeout","apply","arguments","CustomToolbar","props","onNavigate","isRTL","date","handleAddTeacherNav","handlePayrollNav","handleAddStaffNav","handleAddStudentNav","classes","teachers","user","dispatch","anchorEl","setAnchorEl","stage","setStage","height","window","innerHeight","width","innerWidth","dimensions","setDimensions","debouncedHandleResize","handleResize","addEventListener","removeEventListener","itemTypes","itemType","title","onClickEvent","handleClick","event","currentTarget","handleClose","handleAddNewNav","handleCloseAddNew","teacher","role","find","t","email","handleLogout","e","preventDefault","type","withStyles","theme","root","backgroundColor","palette","primary","main","color","common","white","collapseToolbar","toolbar","map","avatar","padding","teacherList","isPartTime","listItemYellow","overThresholdTwoMins","listItemRed","overThresholdOneMins","listItem","name","teachingMins","resourceId","Boolean","display","navBtnNav","minWidth","navBtn","icon","background","fullSizeToolbar","btnGroup","navIcon","todayLabel","format","toLocaleString"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,eAAT,QAAgC,4BAAhC;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAO,0CAAP,C,CAEA;;AACA,SAASC,QAAT,CAAkBC,EAAlB,EAAsBC,EAAtB,EAA0B;AACxB,MAAIC,KAAJ;AACA,SAAQC,CAAD,IAAO;AACZC,IAAAA,YAAY,CAACF,KAAD,CAAZ;AACAA,IAAAA,KAAK,GAAGG,UAAU,CAAEF,CAAD,IAAO;AACxBD,MAAAA,KAAK,GAAG,IAAR;AACAF,MAAAA,EAAE,CAACM,KAAH,CAAS,IAAT,EAAeC,SAAf;AACD,KAHiB,EAGfN,EAHe,CAAlB;AAID,GAND;AAOD;;AAED,MAAMO,aAAa,GAAIC,KAAD,IAAW;AAAA,QAE7BC,UAF6B,GAS3BD,KAT2B,CAE7BC,UAF6B;AAAA,QAG7BC,KAH6B,GAS3BF,KAT2B,CAG7BE,KAH6B;AAAA,QAI7BC,IAJ6B,GAS3BH,KAT2B,CAI7BG,IAJ6B;AAAA,QAK7BC,mBAL6B,GAS3BJ,KAT2B,CAK7BI,mBAL6B;AAAA,QAM7BC,gBAN6B,GAS3BL,KAT2B,CAM7BK,gBAN6B;AAAA,QAO7BC,iBAP6B,GAS3BN,KAT2B,CAO7BM,iBAP6B;AAAA,QAQ7BC,mBAR6B,GAS3BP,KAT2B,CAQ7BO,mBAR6B;AAU/B,QAAMC,OAAO,GAAGxC,SAAS,EAAzB;;AAV+B,sBAWVN,UAAU,CAACI,eAAD,CAXA;AAAA,QAWvB2C,QAXuB,eAWvBA,QAXuB;;AAAA,uBAYJ/C,UAAU,CAACK,WAAD,CAZN;AAAA,QAYvB2C,IAZuB,gBAYvBA,IAZuB;AAAA,QAYjBC,QAZiB,gBAYjBA,QAZiB;;AAAA,oBAaChD,QAAQ,CAAC,IAAD,CAbT;AAAA;AAAA,QAaxBiD,QAbwB;AAAA,QAadC,WAbc;;AAAA,qBAcLlD,QAAQ,CAAC,EAAD,CAdH;AAAA;AAAA,QAcxBmD,KAdwB;AAAA,QAcjBC,QAdiB;;AAAA,qBAeKpD,QAAQ,CAAC;AAC3CqD,IAAAA,MAAM,EAAEC,MAAM,CAACC,WAD4B;AAE3CC,IAAAA,KAAK,EAAEF,MAAM,CAACG;AAF6B,GAAD,CAfb;AAAA;AAAA,QAexBC,UAfwB;AAAA,QAeZC,aAfY;;AAoB/B1D,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM2D,qBAAqB,GAAGjC,QAAQ,CAAC,SAASkC,YAAT,GAAwB;AAC7DF,MAAAA,aAAa,CAAC;AACZN,QAAAA,MAAM,EAAEC,MAAM,CAACC,WADH;AAEZC,QAAAA,KAAK,EAAEF,MAAM,CAACG;AAFF,OAAD,CAAb;AAID,KALqC,EAKnC,IALmC,CAAtC;AAOAH,IAAAA,MAAM,CAACQ,gBAAP,CAAwB,QAAxB,EAAkCF,qBAAlC;AAEA,WAAQ7B,CAAD,IAAO;AACZuB,MAAAA,MAAM,CAACS,mBAAP,CAA2B,QAA3B,EAAqCH,qBAArC;AACD,KAFD;AAGD,GAbQ,CAAT;AAeA,QAAMI,SAAS,GAAG,CAChB;AACEC,IAAAA,QAAQ,EAAE,SADZ;AAEEC,IAAAA,KAAK,EAAE,iBAFT;AAGEC,IAAAA,YAAY,EAAE1B;AAHhB,GADgB,EAMhB;AACEwB,IAAAA,QAAQ,EAAE,OADZ;AAEEC,IAAAA,KAAK,EAAE,eAFT;AAGEC,IAAAA,YAAY,EAAExB;AAHhB,GANgB,EAWhB;AACEsB,IAAAA,QAAQ,EAAE,SADZ;AAEEC,IAAAA,KAAK,EAAE,iBAFT;AAGEC,IAAAA,YAAY,EAAE,MAAM;AAClBvB,MAAAA,mBAAmB;AACnBQ,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACD;AANH,GAXgB,CAAlB;;AAqBA,QAAMgB,WAAW,GAAIC,KAAD,IAAW;AAC7BnB,IAAAA,WAAW,CAACmB,KAAK,CAACC,aAAP,CAAX;AACD,GAFD;;AAIA,QAAMC,WAAW,GAAG,MAAM;AACxBrB,IAAAA,WAAW,CAAC,IAAD,CAAX;AACD,GAFD;;AAIA,QAAMsB,eAAe,GAAG,MAAM;AAC5BpB,IAAAA,QAAQ,CAAC,cAAD,CAAR;AACD,GAFD;;AAIA,QAAMqB,iBAAiB,GAAG,MAAM;AAC9BrB,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACD,GAFD,CApE+B,CAwE/B;AACA;;;AACA,QAAMsB,OAAO,GACX3B,IAAI,CAACA,IAAL,CAAU4B,IAAV,KAAmB,SAAnB,IACA7B,QAAQ,CAAC8B,IAAT,CAAeC,CAAD,IAAOA,CAAC,CAACC,KAAF,KAAY/B,IAAI,CAACA,IAAL,CAAU+B,KAA3C,CAFF;;AAIA,QAAMC,YAAY,GAAIC,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACAjC,IAAAA,QAAQ,CAAC;AAAEkC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACD,GAHD,CA9E+B,CAmF/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,QAAMvE,eAAe,GAAGwE,UAAU,CAAEC,KAAD,KAAY;AAC7CC,IAAAA,IAAI,EAAE;AACJ,iBAAW;AACTC,QAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcC,OAAd,CAAsBC,IAD9B;AAET,+DAAuD;AACrDC,UAAAA,KAAK,EAAEN,KAAK,CAACG,OAAN,CAAcI,MAAd,CAAqBC;AADyB;AAF9C;AADP;AADuC,GAAZ,CAAD,CAAV,CASpB/E,QAToB,CAAxB;AAWA,QAAMgF,eAAe,GACnB;AAAK,IAAA,SAAS,EAAEhD,OAAO,CAACiD,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AACE,uBAAgB,qBADlB;AAEE,IAAA,IAAI,EAAE3C,KAAK,KAAK,cAFlB;AAGE,IAAA,OAAO,EAAEsB,iBAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,WAAD;AAAa,IAAA,EAAE,EAAC,qBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF,EAME,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGT,SAAS,CAAC+B,GAAV,CAAelB,CAAD,IACb,oBAAC,QAAD;AAAU,IAAA,MAAM,MAAhB;AAAiB,IAAA,OAAO,EAAEA,CAAC,CAACV,YAA5B;AAA0C,IAAA,GAAG,EAAEU,CAAC,CAACZ,QAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAEpB,OAAO,CAACmD,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF,EAME,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAEnB,CAAC,CAACX,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CADD,CADH,CANF,CADF,EAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApBF,EAqBE;AAAI,IAAA,KAAK,EAAE;AAAE+B,MAAAA,OAAO,EAAE;AAAX,KAAX;AAA2B,IAAA,SAAS,EAAEpD,OAAO,CAACqD,WAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI;AACA;AACAxB,EAAAA,OAAO,GACL;AACE,IAAA,SAAS,EACPA,OAAO,CAACyB,UAAR,GACItD,OAAO,CAACuD,cADZ,GAEI1B,OAAO,CAAC2B,oBAAR,GAA+B,CAA/B,GACAxD,OAAO,CAACyD,WADR,GAEA5B,OAAO,CAAC6B,oBAAR,GAA+B,CAA/B,GACA1D,OAAO,CAACuD,cADR,GAEAvD,OAAO,CAAC2D,QARhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUG,GAAE9B,OAAO,CAAC+B,IAAK,KAAI/B,OAAO,CAACgC,YAAa,EAV3C,CADK,GAaL5D,QAAQ,IACRA,QAAQ,CAACiD,GAAT,CAAclB,CAAD,IACX;AACE,IAAA,SAAS,EACPA,CAAC,CAACsB,UAAF,GACItD,OAAO,CAACuD,cADZ,GAEIvB,CAAC,CAACwB,oBAAF,GAAyB,CAAzB,GACAxD,OAAO,CAACyD,WADR,GAEAzB,CAAC,CAAC0B,oBAAF,GAAyB,CAAzB,GACA1D,OAAO,CAACuD,cADR,GAEAvD,OAAO,CAAC2D,QARhB;AAUE,IAAA,GAAG,EAAE3B,CAAC,CAAC8B,UAVT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAWG,GAAE9B,CAAC,CAAC4B,IAAK,KAAI5B,CAAC,CAAC6B,YAAa,EAX/B,CADF,CAlBN,CArBF,EAwDE,oBAAC,MAAD;AACE,qBAAc,iBADhB;AAEE,qBAAc,MAFhB;AAGE,IAAA,OAAO,EAAC,WAHV;AAIE,IAAA,KAAK,EAAC,SAJR;AAKE,IAAA,OAAO,EAAEtC,WALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAxDF,EAiEE,oBAAC,WAAD;AACE,IAAA,EAAE,EAAC,iBADL;AAEE,IAAA,QAAQ,EAAEnB,QAFZ;AAGE,IAAA,WAAW,MAHb;AAIE,IAAA,IAAI,EAAE2D,OAAO,CAAC3D,QAAD,CAJf;AAKE,IAAA,OAAO,EAAEsB,WALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AAAK,IAAA,KAAK,EAAE;AAAEsC,MAAAA,OAAO,EAAE;AAAX,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,eAAD;AACE,IAAA,SAAS,EAAEhE,OAAO,CAACiE,SADrB;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,OAAO,EAAE,MAAMxE,UAAU,CAAC,MAAD,CAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAE;AAAEyE,MAAAA,QAAQ,EAAE;AAAZ,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,aAAD;AAAe,IAAA,QAAQ,EAAC,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CALF,CADF,EAUE,oBAAC,eAAD;AACE,IAAA,SAAS,EAAElE,OAAO,CAACiE,SADrB;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,OAAO,EAAE,MAAMxE,UAAU,CAAC,MAAD,CAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAE;AAAEyE,MAAAA,QAAQ,EAAE;AAAZ,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,cAAD;AAAgB,IAAA,QAAQ,EAAC,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CALF,CAVF,CAPF,EA4BGhE,IAAI,CAACA,IAAL,CAAU4B,IAAV,KAAmB,SAAnB,IACC,0CACE,oBAAC,eAAD;AACE,IAAA,SAAS,EAAE9B,OAAO,CAACmE,MADrB;AAEE,IAAA,OAAO,EAAExC,eAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,aAAD;AAAe,IAAA,SAAS,EAAE3B,OAAO,CAACoE,IAAlC;AAAwC,IAAA,QAAQ,EAAC,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,EAOE,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAC,cAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF,EAUE,oBAAC,eAAD;AACE,IAAA,SAAS,EAAEpE,OAAO,CAACmE,MADrB;AAEE,IAAA,OAAO,EAAEtE,gBAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,eAAD;AAAiB,IAAA,QAAQ,EAAC,OAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,EAOE,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CAVF,CA7BJ,EAkDE,oBAAC,eAAD;AACE,IAAA,KAAK,EAAE;AACLwE,MAAAA,UAAU,EAAE,SADP;AAELA,MAAAA,UAAU,EACR;AAHG,KADT;AAME,IAAA,SAAS,EAAErE,OAAO,CAACmE,MANrB;AAOE,IAAA,OAAO,EAAEjC,YAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,aAAD;AAAe,IAAA,QAAQ,EAAC,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CATF,EAYE,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,CAlDF,CAjEF,CADF;AAsIA,QAAMoC,eAAe,GACnB;AAAK,IAAA,SAAS,EAAEtE,OAAO,CAACiD,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AACE,uBAAgB,qBADlB;AAEE,IAAA,IAAI,EAAE3C,KAAK,KAAK,cAFlB;AAGE,IAAA,OAAO,EAAEsB,iBAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,WAAD;AAAa,IAAA,EAAE,EAAC,qBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF,EAME,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGT,SAAS,CAAC+B,GAAV,CAAelB,CAAD,IACb,oBAAC,QAAD;AAAU,IAAA,MAAM,MAAhB;AAAiB,IAAA,OAAO,EAAEA,CAAC,CAACV,YAA5B;AAA0C,IAAA,GAAG,EAAEU,CAAC,CAACZ,QAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAEpB,OAAO,CAACmD,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF,EAME,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAEnB,CAAC,CAACX,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CADD,CADH,CANF,CADF,EAoBE;AAAK,IAAA,SAAS,EAAErB,OAAO,CAACuE,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AACE,IAAA,SAAS,EAAEvE,OAAO,CAACmE,MADrB;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,OAAO,EAAE,MAAM1E,UAAU,CAAC,MAAD,CAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,aAAD;AACE,IAAA,SAAS,EAAEO,OAAO,CAACwE,OADrB;AAEE,IAAA,IAAI,EAAE9E,KAAK,GAAG,eAAH,GAAqB,cAFlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADF,EAWE;AACE,IAAA,SAAS,EAAEM,OAAO,CAACyE,UADrB;AAEE,IAAA,OAAO,EAAE,MAAMhF,UAAU,CAAC,OAAD,CAF3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGpC,MAAM,CAACsC,IAAD,CAAN,CAAa+E,MAAb,CAAoB,OAApB,EAA6BC,cAA7B,EAJH,CAXF,EAiBE,oBAAC,UAAD;AACE,IAAA,SAAS,EAAE3E,OAAO,CAACmE,MADrB;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,OAAO,EAAE,MAAM1E,UAAU,CAAC,MAAD,CAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,cAAD;AACE,IAAA,SAAS,EAAEO,OAAO,CAACwE,OADrB;AAEE,IAAA,IAAI,EAAE9E,KAAK,GAAG,cAAH,GAAoB,eAFjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAjBF,CApBF,EAgDE;AAAI,IAAA,SAAS,EAAEM,OAAO,CAACqD,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI;AACA;AACAxB,EAAAA,OAAO,GACL;AACE,IAAA,SAAS,EACPA,OAAO,CAACyB,UAAR,GACItD,OAAO,CAACuD,cADZ,GAEI1B,OAAO,CAAC2B,oBAAR,GAA+B,CAA/B,GACAxD,OAAO,CAACyD,WADR,GAEA5B,OAAO,CAAC6B,oBAAR,GAA+B,CAA/B,GACA1D,OAAO,CAACuD,cADR,GAEAvD,OAAO,CAAC2D,QARhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUG,GAAE9B,OAAO,CAAC+B,IAAK,KAAI/B,OAAO,CAACgC,YAAa,EAV3C,CADK,GAaL5D,QAAQ,IACRA,QAAQ,CAACiD,GAAT,CAAclB,CAAD,IACX;AACE,IAAA,SAAS,EACPA,CAAC,CAACsB,UAAF,GACItD,OAAO,CAACuD,cADZ,GAEIvB,CAAC,CAACwB,oBAAF,GAAyB,CAAzB,GACAxD,OAAO,CAACyD,WADR,GAEAzB,CAAC,CAAC0B,oBAAF,GAAyB,CAAzB,GACA1D,OAAO,CAACuD,cADR,GAEAvD,OAAO,CAAC2D,QARhB;AAUE,IAAA,GAAG,EAAE3B,CAAC,CAAC8B,UAVT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAWG,GAAE9B,CAAC,CAAC4B,IAAK,KAAI5B,CAAC,CAAC6B,YAAa,EAX/B,CADF,CAlBN,CAhDF,EAmFE;AAAK,IAAA,SAAS,EAAE7D,OAAO,CAACuE,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrE,IAAI,CAACA,IAAL,CAAU4B,IAAV,KAAmB,SAAnB,IACC,0CACE;AAAQ,IAAA,SAAS,EAAE9B,OAAO,CAACmE,MAA3B;AAAmC,IAAA,OAAO,EAAExC,eAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,aAAD;AAAe,IAAA,SAAS,EAAE3B,OAAO,CAACoE,IAAlC;AAAwC,IAAA,QAAQ,EAAC,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eADF,EAKE;AAAQ,IAAA,SAAS,EAAEpE,OAAO,CAACmE,MAA3B;AAAmC,IAAA,OAAO,EAAEtE,gBAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,eAAD;AAAiB,IAAA,SAAS,EAAEG,OAAO,CAACoE,IAApC;AAA0C,IAAA,QAAQ,EAAC,OAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,YALF,CAFJ,EAcE;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,UAAU,EAAE,SADP;AAELA,MAAAA,UAAU,EACR;AAHG,KADT;AAME,IAAA,SAAS,EAAErE,OAAO,CAACmE,MANrB;AAOE,IAAA,OAAO,EAAEjC,YAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASE,oBAAC,aAAD;AAAe,IAAA,SAAS,EAAElC,OAAO,CAACoE,IAAlC;AAAwC,IAAA,QAAQ,EAAC,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,WAdF,CAnFF,CADF;AAkHA,SAAOvD,UAAU,CAACF,KAAX,GAAmB,GAAnB,GAAyBqC,eAAzB,GAA2CsB,eAAlD;AACD,CA3WD;;AA6WA,eAAehC,UAAU,CAACzD,MAAD,CAAV,CAAmBU,aAAnB,CAAf","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { TeachersContext } from \"../context/TeachersContext\";\nimport { UserContext } from \"../context/UserContext\";\nimport useStyles from \"../styles/LessonEventStyles\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport RightArrowIcon from \"@material-ui/icons/ChevronRight\";\nimport LeftArrowIcon from \"@material-ui/icons/ChevronLeft\";\nimport Button from \"@material-ui/core/Button\";\nimport ToolbarMenu from \"./ToolbarMenu\";\nimport ToolbarMenuItem from \"./ToolbarMenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport AttachMoneyIcon from \"@material-ui/icons/AttachMoney\";\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport styles from \"../styles/CustomToolbarStyles\";\nimport \"react-big-calendar/lib/sass/toolbar.scss\";\n\n// Debounce to prevent re-renders on every single dimension change\nfunction debounce(fn, ms) {\n  let timer;\n  return (_) => {\n    clearTimeout(timer);\n    timer = setTimeout((_) => {\n      timer = null;\n      fn.apply(this, arguments);\n    }, ms);\n  };\n}\n\nconst CustomToolbar = (props) => {\n  const {\n    onNavigate,\n    isRTL,\n    date,\n    handleAddTeacherNav,\n    handlePayrollNav,\n    handleAddStaffNav,\n    handleAddStudentNav,\n  } = props;\n  const classes = useStyles();\n  const { teachers } = useContext(TeachersContext);\n  const { user, dispatch } = useContext(UserContext);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [stage, setStage] = useState(\"\");\n  const [dimensions, setDimensions] = useState({\n    height: window.innerHeight,\n    width: window.innerWidth,\n  });\n\n  useEffect(() => {\n    const debouncedHandleResize = debounce(function handleResize() {\n      setDimensions({\n        height: window.innerHeight,\n        width: window.innerWidth,\n      });\n    }, 1000);\n\n    window.addEventListener(\"resize\", debouncedHandleResize);\n\n    return (_) => {\n      window.removeEventListener(\"resize\", debouncedHandleResize);\n    };\n  });\n\n  const itemTypes = [\n    {\n      itemType: \"teacher\",\n      title: \"Add new teacher\",\n      onClickEvent: handleAddTeacherNav,\n    },\n    {\n      itemType: \"staff\",\n      title: \"Add new staff\",\n      onClickEvent: handleAddStaffNav,\n    },\n    {\n      itemType: \"student\",\n      title: \"Add new student\",\n      onClickEvent: () => {\n        handleAddStudentNav();\n        setStage(\"\");\n      },\n    },\n  ];\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleAddNewNav = () => {\n    setStage(\"addNewPerson\");\n  };\n\n  const handleCloseAddNew = () => {\n    setStage(\"\");\n  };\n\n  // Search for user in teachers. If user is teacher, return teacher object\n  // for use in conditional rendering of teaching minutes\n  const teacher =\n    user.user.role === \"teacher\" &&\n    teachers.find((t) => t.email === user.user.email);\n\n  const handleLogout = (e) => {\n    e.preventDefault();\n    dispatch({ type: \"LOGOUT_SUCCESS\" });\n  };\n\n  // const StyledMenu = withStyles({\n  //   paper: {\n  //     border: \"1px solid #d3d4d5\",\n  //   },\n  // })((props) => (\n  //   <Menu\n  //     elevation={0}\n  //     getContentAnchorEl={null}\n  //     anchorOrigin={{\n  //       vertical: \"bottom\",\n  //       horizontal: \"center\",\n  //     }}\n  //     transformOrigin={{\n  //       vertical: \"top\",\n  //       horizontal: \"center\",\n  //     }}\n  //     {...props}\n  //   />\n  // ));\n\n  const ToolbarMenuItem = withStyles((theme) => ({\n    root: {\n      \"&:focus\": {\n        backgroundColor: theme.palette.primary.main,\n        \"& .MuiListItemIcon-root, & .MuiListItemText-primary\": {\n          color: theme.palette.common.white,\n        },\n      },\n    },\n  }))(MenuItem);\n\n  const collapseToolbar = (\n    <div className={classes.toolbar}>\n      <Dialog\n        aria-labelledby=\"add-new-item-select\"\n        open={stage === \"addNewPerson\"}\n        onClose={handleCloseAddNew}\n      >\n        <DialogTitle id=\"add-new-item-select\">Add New...</DialogTitle>\n        <List>\n          {itemTypes.map((t) => (\n            <ListItem button onClick={t.onClickEvent} key={t.itemType}>\n              <ListItemAvatar>\n                <Avatar className={classes.avatar}>\n                  <PersonIcon />\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText primary={t.title} />\n            </ListItem>\n          ))}\n        </List>\n      </Dialog>\n      <div></div>\n      <ul style={{ padding: 0 }} className={classes.teacherList}>\n        {\n          // If user is a teacher, list the user's teaching minutes.\n          // Otherwise, list all teachers' teaching minutes.\n          teacher ? (\n            <li\n              className={\n                teacher.isPartTime\n                  ? classes.listItemYellow\n                  : teacher.overThresholdTwoMins > 0\n                  ? classes.listItemRed\n                  : teacher.overThresholdOneMins > 0\n                  ? classes.listItemYellow\n                  : classes.listItem\n              }\n            >{`${teacher.name}: ${teacher.teachingMins}`}</li>\n          ) : (\n            teachers &&\n            teachers.map((t) => (\n              <li\n                className={\n                  t.isPartTime\n                    ? classes.listItemYellow\n                    : t.overThresholdTwoMins > 0\n                    ? classes.listItemRed\n                    : t.overThresholdOneMins > 0\n                    ? classes.listItemYellow\n                    : classes.listItem\n                }\n                key={t.resourceId}\n              >{`${t.name}: ${t.teachingMins}`}</li>\n            ))\n          )\n        }\n      </ul>\n      <Button\n        aria-controls=\"customized-menu\"\n        aria-haspopup=\"true\"\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={handleClick}\n      >\n        Menu\n      </Button>\n      <ToolbarMenu\n        id=\"customized-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <div style={{ display: \"flex\" }}>\n          <ToolbarMenuItem\n            className={classes.navBtnNav}\n            type=\"button\"\n            onClick={() => onNavigate(\"PREV\")}\n          >\n            <ListItemIcon style={{ minWidth: 0 }}>\n              <LeftArrowIcon fontSize=\"small\" />\n            </ListItemIcon>\n          </ToolbarMenuItem>\n          <ToolbarMenuItem\n            className={classes.navBtnNav}\n            type=\"button\"\n            onClick={() => onNavigate(\"NEXT\")}\n          >\n            <ListItemIcon style={{ minWidth: 0 }}>\n              <RightArrowIcon fontSize=\"small\" />\n            </ListItemIcon>\n          </ToolbarMenuItem>\n        </div>\n\n        {user.user.role !== \"teacher\" && (\n          <>\n            <ToolbarMenuItem\n              className={classes.navBtn}\n              onClick={handleAddNewNav}\n            >\n              <ListItemIcon>\n                <PersonAddIcon className={classes.icon} fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Add New ____\" />\n            </ToolbarMenuItem>\n            <ToolbarMenuItem\n              className={classes.navBtn}\n              onClick={handlePayrollNav}\n            >\n              <ListItemIcon>\n                <AttachMoneyIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Payroll\" />\n            </ToolbarMenuItem>\n          </>\n        )}\n        <ToolbarMenuItem\n          style={{\n            background: \"#f50057\",\n            background:\n              \"linear-gradient(0deg, rgba(186, 4, 68,1) 7%, rgba(245, 0, 86,1) 100%)\",\n          }}\n          className={classes.navBtn}\n          onClick={handleLogout}\n        >\n          <ListItemIcon>\n            <ExitToAppIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Logout\" />\n        </ToolbarMenuItem>\n      </ToolbarMenu>\n    </div>\n  );\n\n  const fullSizeToolbar = (\n    <div className={classes.toolbar}>\n      <Dialog\n        aria-labelledby=\"add-new-item-select\"\n        open={stage === \"addNewPerson\"}\n        onClose={handleCloseAddNew}\n      >\n        <DialogTitle id=\"add-new-item-select\">Add New...</DialogTitle>\n        <List>\n          {itemTypes.map((t) => (\n            <ListItem button onClick={t.onClickEvent} key={t.itemType}>\n              <ListItemAvatar>\n                <Avatar className={classes.avatar}>\n                  <PersonIcon />\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText primary={t.title} />\n            </ListItem>\n          ))}\n        </List>\n      </Dialog>\n      <div className={classes.btnGroup}>\n        <IconButton\n          className={classes.navBtn}\n          type=\"button\"\n          onClick={() => onNavigate(\"PREV\")}\n        >\n          <LeftArrowIcon\n            className={classes.navIcon}\n            icon={isRTL ? \"chevron-right\" : \"chevron-left\"}\n          />\n        </IconButton>\n        <span\n          className={classes.todayLabel}\n          onClick={() => onNavigate(\"TODAY\")}\n        >\n          {moment(date).format(\"MM/DD\").toLocaleString()}\n        </span>\n        <IconButton\n          className={classes.navBtn}\n          type=\"button\"\n          onClick={() => onNavigate(\"NEXT\")}\n        >\n          <RightArrowIcon\n            className={classes.navIcon}\n            icon={isRTL ? \"chevron-left\" : \"chevron-right\"}\n          />\n        </IconButton>\n      </div>\n      <ul className={classes.teacherList}>\n        {\n          // If teacher is defined because user is a teacher, list user's teaching mins.\n          // Otherwise, list all teachers' teaching mins\n          teacher ? (\n            <li\n              className={\n                teacher.isPartTime\n                  ? classes.listItemYellow\n                  : teacher.overThresholdTwoMins > 0\n                  ? classes.listItemRed\n                  : teacher.overThresholdOneMins > 0\n                  ? classes.listItemYellow\n                  : classes.listItem\n              }\n            >{`${teacher.name}: ${teacher.teachingMins}`}</li>\n          ) : (\n            teachers &&\n            teachers.map((t) => (\n              <li\n                className={\n                  t.isPartTime\n                    ? classes.listItemYellow\n                    : t.overThresholdTwoMins > 0\n                    ? classes.listItemRed\n                    : t.overThresholdOneMins > 0\n                    ? classes.listItemYellow\n                    : classes.listItem\n                }\n                key={t.resourceId}\n              >{`${t.name}: ${t.teachingMins}`}</li>\n            ))\n          )\n        }\n      </ul>\n      <div className={classes.btnGroup}>\n        {user.user.role !== \"teacher\" && (\n          <>\n            <button className={classes.navBtn} onClick={handleAddNewNav}>\n              <PersonAddIcon className={classes.icon} fontSize=\"small\" />\n              Add New...\n            </button>\n            <button className={classes.navBtn} onClick={handlePayrollNav}>\n              <AttachMoneyIcon className={classes.icon} fontSize=\"small\" />\n              Payroll\n            </button>\n          </>\n        )}\n\n        <button\n          style={{\n            background: \"#f50057\",\n            background:\n              \"linear-gradient(0deg, rgba(186, 4, 68,1) 7%, rgba(245, 0, 86,1) 100%)\",\n          }}\n          className={classes.navBtn}\n          onClick={handleLogout}\n        >\n          <ExitToAppIcon className={classes.icon} fontSize=\"small\" />\n          Logout\n        </button>\n      </div>\n    </div>\n  );\n\n  return dimensions.width < 750 ? collapseToolbar : fullSizeToolbar;\n};\n\nexport default withStyles(styles)(CustomToolbar);\n"]},"metadata":{},"sourceType":"module"}