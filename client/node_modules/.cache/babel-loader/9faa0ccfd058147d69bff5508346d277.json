{"ast":null,"code":"import _objectSpread from \"/home/miles/webdev/jes-sched/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/miles/webdev/jes-sched/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/miles/webdev/jes-sched/client/src/components/Schedule.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport CustomDnDCalendar from \"./CustomDnDCalendar\";\nimport { protectAction } from \"../helperFunctions\";\nimport { validateRoom, validateTeacher } from \"../validators\";\nimport { TeachersContext } from \"../context/TeachersContext\";\nimport { EventsContext } from \"../context/EventsContext\";\nimport { UserContext } from \"../context/UserContext\";\nimport useFormState from \"../hooks/useInputState\";\nimport EventForm from \"./EventForm\";\nimport TeacherForm from \"./TeacherForm\";\nimport CustomizedSnackbars from \"./CustomizedSnackbars\";\nimport Payroll from \"./Payroll\";\nimport Footer from \"./Footer\";\nimport \"react-big-calendar/lib/sass/styles.scss\";\nimport \"react-big-calendar/lib/addons/dragAndDrop/styles.scss\";\n\nconst Schedule = () => {\n  // const {\n  //   teachers,\n  //   setTeachers,\n  //   getTeachers,\n  //   addTeacher,\n  //   addTeachingMins,\n  // } = useContext(TeachersContext);\n  const _useContext = useContext(EventsContext),\n        events = _useContext.events,\n        addEvent = _useContext.addEvent,\n        getEvents = _useContext.getEvents;\n\n  const _useContext2 = useContext(UserContext),\n        user = _useContext2.user,\n        dispatch = _useContext2.dispatch;\n\n  const _useContext3 = useContext(TeachersContext),\n        teachers = _useContext3.teachers,\n        teachersDispatch = _useContext3.teachersDispatch;\n\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        formType = _useState2[0],\n        setFormType = _useState2[1];\n\n  const _useFormState = useFormState(new Date()),\n        _useFormState2 = _slicedToArray(_useFormState, 2),\n        startTime = _useFormState2[0],\n        updateStartTime = _useFormState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        selectedEvent = _useState4[0],\n        setSelectedEvent = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        isOpen = _useState6[0],\n        setIsOpen = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        message = _useState8[0],\n        setMessage = _useState8[1];\n\n  const _useState9 = useState(\"\"),\n        _useState10 = _slicedToArray(_useState9, 2),\n        selectedTeacher = _useState10[0],\n        setSelectedTeacher = _useState10[1];\n\n  useEffect(() => {\n    // Pass current dateTime to compare to recurrence events to check if a new batch of recurrences\n    // is needed\n    getEvents(new Date().getTime());\n\n    try {\n      teachersDispatch({\n        type: \"GET_TEACHERS\"\n      });\n    } catch {\n      console.log(\"No teachers, yet\");\n    } // getTeachers(events);\n\n  }, []);\n  useEffect(() => {\n    teachersDispatch({\n      type: \"ADD_TEACHING_MINS\",\n      events: events\n    }); // addTeachingMins(events);\n  }, [events]);\n\n  const moveEvent = ({\n    event,\n    resourceId,\n    start,\n    end\n  }) => {\n    const updatedEvent = _objectSpread({}, event, {\n      resourceId,\n      start,\n      end\n    });\n\n    handleDoubleClick(updatedEvent);\n  };\n\n  const validateRoomAndResource = (event, resourceId, start) => {\n    const idx = events.indexOf(event);\n    const otherEvents = [...events.slice(0, idx), ...events.slice(idx + 1)];\n\n    if (!validateRoom(otherEvents, event.room, start, parseInt(event.duration))) {\n      setSelectedEvent(event);\n      handleToggleSnackbar(\"Room Conflict. Please choose another room or time\");\n      return 1;\n    }\n\n    if (!validateTeacher(otherEvents, resourceId, start, parseInt(event.duration))) {\n      setSelectedEvent(event);\n      handleToggleSnackbar(\"Teacher Conflict. Please choose another teacher or time\");\n      return 1;\n    }\n\n    return 0;\n  }; // Add validation to a move upon dropping an event with drag and drop\n  // If there is a conflict, prevent the move and flash a conflict snackbar\n\n\n  const handleMove = ({\n    event,\n    resourceId,\n    start,\n    end\n  }) => {\n    if (validateRoomAndResource(event, resourceId, start) === 0) {\n      moveEvent({\n        event,\n        resourceId,\n        start,\n        end\n      });\n      return 0;\n    }\n\n    return 1;\n  };\n\n  const handleAddEvent = newEvent => {\n    addEvent(newEvent);\n    setFormType(\"\");\n  };\n\n  const handleSelect = ({\n    start,\n    resourceId\n  }) => {\n    updateStartTime(start);\n    setSelectedTeacher(resourceId);\n    setFormType(\"event\");\n  };\n\n  const handleDoubleClick = event => {\n    updateStartTime(event.start);\n    setSelectedEvent(event);\n    setFormType(\"event\");\n  };\n\n  const handleAddTeacher = newTeacher => {\n    teachersDispatch({\n      type: \"ADD_TEACHER\"\n    }); // addTeacher(teachers, newTeacher, setTeachers);\n\n    setFormType(\"\");\n  };\n\n  const handleAddTeacherNav = () => {\n    setFormType(\"teacher\");\n  };\n\n  const handleToggleSnackbar = msg => {\n    setMessage(msg);\n    setIsOpen(true);\n  };\n\n  const handlePayrollNav = () => {\n    setFormType(\"payroll\");\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, formType === \"event\" && React.createElement(EventForm, {\n    formType: formType,\n    setFormType: setFormType,\n    addEvent: handleAddEvent,\n    startTime: startTime,\n    updateStartTime: updateStartTime,\n    event: selectedEvent,\n    setSelectedEvent: setSelectedEvent,\n    selectedTeacher: selectedTeacher,\n    validateRoomAndResource: validateRoomAndResource,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }), formType === \"teacher\" && React.createElement(TeacherForm, {\n    formType: formType,\n    setFormType: setFormType,\n    addTeacher: handleAddTeacher,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }), formType === \"payroll\" && React.createElement(Payroll, {\n    setFormType: setFormType,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }), React.createElement(CustomizedSnackbars, {\n    isOpen: isOpen,\n    setIsOpen: setIsOpen,\n    variant: \"error\",\n    msg: message,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }), React.createElement(CustomDnDCalendar, {\n    handleMove: protectAction(user, handleMove),\n    handleSelect: protectAction(user, handleSelect),\n    handleDoubleClick: protectAction(user, handleDoubleClick),\n    handleAddTeacherNav: protectAction(user, handleAddTeacherNav),\n    handlePayrollNav: protectAction(user, handlePayrollNav),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }));\n};\n\nexport default Schedule;","map":{"version":3,"sources":["/home/miles/webdev/jes-sched/client/src/components/Schedule.js"],"names":["React","useState","useEffect","useContext","CustomDnDCalendar","protectAction","validateRoom","validateTeacher","TeachersContext","EventsContext","UserContext","useFormState","EventForm","TeacherForm","CustomizedSnackbars","Payroll","Footer","Schedule","events","addEvent","getEvents","user","dispatch","teachers","teachersDispatch","formType","setFormType","Date","startTime","updateStartTime","selectedEvent","setSelectedEvent","isOpen","setIsOpen","message","setMessage","selectedTeacher","setSelectedTeacher","getTime","type","console","log","moveEvent","event","resourceId","start","end","updatedEvent","handleDoubleClick","validateRoomAndResource","idx","indexOf","otherEvents","slice","room","parseInt","duration","handleToggleSnackbar","handleMove","handleAddEvent","newEvent","handleSelect","handleAddTeacher","newTeacher","handleAddTeacherNav","msg","handlePayrollNav"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport CustomDnDCalendar from \"./CustomDnDCalendar\";\nimport { protectAction } from \"../helperFunctions\";\nimport { validateRoom, validateTeacher } from \"../validators\";\nimport { TeachersContext } from \"../context/TeachersContext\";\nimport { EventsContext } from \"../context/EventsContext\";\nimport { UserContext } from \"../context/UserContext\";\nimport useFormState from \"../hooks/useInputState\";\nimport EventForm from \"./EventForm\";\nimport TeacherForm from \"./TeacherForm\";\nimport CustomizedSnackbars from \"./CustomizedSnackbars\";\nimport Payroll from \"./Payroll\";\nimport Footer from \"./Footer\";\nimport \"react-big-calendar/lib/sass/styles.scss\";\nimport \"react-big-calendar/lib/addons/dragAndDrop/styles.scss\";\n\nconst Schedule = () => {\n  // const {\n  //   teachers,\n  //   setTeachers,\n  //   getTeachers,\n  //   addTeacher,\n  //   addTeachingMins,\n  // } = useContext(TeachersContext);\n  const { events, addEvent, getEvents } = useContext(EventsContext);\n  const { user, dispatch } = useContext(UserContext);\n  const { teachers, teachersDispatch } = useContext(TeachersContext);\n\n  const [formType, setFormType] = useState(\"\");\n  const [startTime, updateStartTime] = useFormState(new Date());\n  const [selectedEvent, setSelectedEvent] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [selectedTeacher, setSelectedTeacher] = useState(\"\");\n\n  useEffect(() => {\n    // Pass current dateTime to compare to recurrence events to check if a new batch of recurrences\n    // is needed\n    getEvents(new Date().getTime());\n    try {\n      teachersDispatch({ type: \"GET_TEACHERS\" });\n    } catch {\n      console.log(\"No teachers, yet\");\n    }\n    // getTeachers(events);\n  }, []);\n\n  useEffect(() => {\n    teachersDispatch({ type: \"ADD_TEACHING_MINS\", events: events });\n    // addTeachingMins(events);\n  }, [events]);\n\n  const moveEvent = ({ event, resourceId, start, end }) => {\n    const updatedEvent = { ...event, resourceId, start, end };\n    handleDoubleClick(updatedEvent);\n  };\n\n  const validateRoomAndResource = (event, resourceId, start) => {\n    const idx = events.indexOf(event);\n    const otherEvents = [...events.slice(0, idx), ...events.slice(idx + 1)];\n    if (\n      !validateRoom(otherEvents, event.room, start, parseInt(event.duration))\n    ) {\n      setSelectedEvent(event);\n      handleToggleSnackbar(\"Room Conflict. Please choose another room or time\");\n      return 1;\n    }\n    if (\n      !validateTeacher(otherEvents, resourceId, start, parseInt(event.duration))\n    ) {\n      setSelectedEvent(event);\n      handleToggleSnackbar(\n        \"Teacher Conflict. Please choose another teacher or time\"\n      );\n      return 1;\n    }\n    return 0;\n  };\n\n  // Add validation to a move upon dropping an event with drag and drop\n  // If there is a conflict, prevent the move and flash a conflict snackbar\n  const handleMove = ({ event, resourceId, start, end }) => {\n    if (validateRoomAndResource(event, resourceId, start) === 0) {\n      moveEvent({\n        event,\n        resourceId,\n        start,\n        end,\n      });\n      return 0;\n    }\n    return 1;\n  };\n\n  const handleAddEvent = (newEvent) => {\n    addEvent(newEvent);\n    setFormType(\"\");\n  };\n\n  const handleSelect = ({ start, resourceId }) => {\n    updateStartTime(start);\n    setSelectedTeacher(resourceId);\n    setFormType(\"event\");\n  };\n\n  const handleDoubleClick = (event) => {\n    updateStartTime(event.start);\n    setSelectedEvent(event);\n    setFormType(\"event\");\n  };\n\n  const handleAddTeacher = (newTeacher) => {\n    teachersDispatch({ type: \"ADD_TEACHER\" });\n    // addTeacher(teachers, newTeacher, setTeachers);\n    setFormType(\"\");\n  };\n\n  const handleAddTeacherNav = () => {\n    setFormType(\"teacher\");\n  };\n\n  const handleToggleSnackbar = (msg) => {\n    setMessage(msg);\n    setIsOpen(true);\n  };\n\n  const handlePayrollNav = () => {\n    setFormType(\"payroll\");\n  };\n\n  return (\n    <div>\n      {formType === \"event\" && (\n        <EventForm\n          formType={formType}\n          setFormType={setFormType}\n          addEvent={handleAddEvent}\n          startTime={startTime}\n          updateStartTime={updateStartTime}\n          event={selectedEvent}\n          setSelectedEvent={setSelectedEvent}\n          selectedTeacher={selectedTeacher}\n          validateRoomAndResource={validateRoomAndResource}\n        />\n      )}\n      {formType === \"teacher\" && (\n        <TeacherForm\n          formType={formType}\n          setFormType={setFormType}\n          addTeacher={handleAddTeacher}\n        />\n      )}\n      {formType === \"payroll\" && <Payroll setFormType={setFormType} />}\n      <CustomizedSnackbars\n        isOpen={isOpen}\n        setIsOpen={setIsOpen}\n        variant={\"error\"}\n        msg={message}\n      />\n\n      <CustomDnDCalendar\n        handleMove={protectAction(user, handleMove)}\n        handleSelect={protectAction(user, handleSelect)}\n        handleDoubleClick={protectAction(user, handleDoubleClick)}\n        handleAddTeacherNav={protectAction(user, handleAddTeacherNav)}\n        handlePayrollNav={protectAction(user, handlePayrollNav)}\n      />\n      <Footer />\n    </div>\n  );\n};\nexport default Schedule;\n"]},"metadata":{},"sourceType":"module"}