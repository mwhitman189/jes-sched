{"ast":null,"code":"import _objectSpread from \"/home/miles/webdev/jes-sched/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport axios from \"axios\";\nimport { createPayPeriodData } from \"../helperFunctions\";\nimport uuid from \"uuid/v4\";\n\nconst updateTeacher = async (state, action) => {\n  await axios.put(`/teachers/update/${teacher._id}`, teacher).then(res => console.log(res.data)).catch(err => console.log(err));\n  return state.map(t => t.id === teacher.id ? _objectSpread({}, t, {\n    resourceTitle: teacher.resourceTitle,\n    name: teacher.name,\n    familyName: teacher.familyName,\n    teachingMins: teacher.teachingMins,\n    holidayMins: teacher.holidayMins,\n    outsideDutyMins: teacher.outsideDutyMins,\n    otThreshold: teacher.otThreshold,\n    overThresholdOneMins: teacher.overThresholdOneMins,\n    overThresholdTwoMins: teacher.overThresholdTwoMins\n  }) : t);\n};\n\nconst teachersReducer = async (state, action) => {\n  switch (action.type) {\n    case \"GET_TEACHERS\":\n      let teachersArr;\n      await axios.get(\"/teachers/\").then(res => {\n        teachersArr = res.data;\n      }).catch(err => console.log(err));\n      return [...state, ...teachersArr];\n\n    case \"ADD_TEACHER\":\n      const teacher = action.teacher && action.teacher;\n      await axios.post(\"/teachers/add\", teacher).then(res => console.log(res.data)).catch(err => console.log(err));\n      return [...state, {\n        id: uuid(),\n        teacher\n      }];\n\n    case \"DELETE_TEACHER\":\n      await axios.delete(`/teachers/delete/${teacher._id}`).then(res => console.log(res.data)).catch(err => console.log(err));\n      return state.filter(t => t.id !== action.id);\n\n    case \"UPDATE_TEACHER\":\n      return updateTeacher(state, teacher);\n\n    default:\n      return state;\n  }\n};\n\nexport default teachersReducer;","map":{"version":3,"sources":["/home/miles/webdev/jes-sched/client/src/reducers/teachersReducer.js"],"names":["axios","createPayPeriodData","uuid","updateTeacher","state","action","put","teacher","_id","then","res","console","log","data","catch","err","map","t","id","resourceTitle","name","familyName","teachingMins","holidayMins","outsideDutyMins","otThreshold","overThresholdOneMins","overThresholdTwoMins","teachersReducer","type","teachersArr","get","post","delete","filter"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,mBAAT,QAAoC,oBAApC;AACA,OAAOC,IAAP,MAAiB,SAAjB;;AAEA,MAAMC,aAAa,GAAG,OAAOC,KAAP,EAAcC,MAAd,KAAyB;AAC7C,QAAML,KAAK,CACRM,GADG,CACE,oBAAmBC,OAAO,CAACC,GAAI,EADjC,EACoCD,OADpC,EAEHE,IAFG,CAEEC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,CAFT,EAGHC,KAHG,CAGGC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAHV,CAAN;AAIA,SAAOX,KAAK,CAACY,GAAN,CAAUC,CAAC,IAChBA,CAAC,CAACC,EAAF,KAASX,OAAO,CAACW,EAAjB,qBAESD,CAFT;AAGME,IAAAA,aAAa,EAAEZ,OAAO,CAACY,aAH7B;AAIMC,IAAAA,IAAI,EAAEb,OAAO,CAACa,IAJpB;AAKMC,IAAAA,UAAU,EAAEd,OAAO,CAACc,UAL1B;AAMMC,IAAAA,YAAY,EAAEf,OAAO,CAACe,YAN5B;AAOMC,IAAAA,WAAW,EAAEhB,OAAO,CAACgB,WAP3B;AAQMC,IAAAA,eAAe,EAAEjB,OAAO,CAACiB,eAR/B;AASMC,IAAAA,WAAW,EAAElB,OAAO,CAACkB,WAT3B;AAUMC,IAAAA,oBAAoB,EAAEnB,OAAO,CAACmB,oBAVpC;AAWMC,IAAAA,oBAAoB,EAAEpB,OAAO,CAACoB;AAXpC,OAaIV,CAdC,CAAP;AAgBD,CArBD;;AAuBA,MAAMW,eAAe,GAAG,OAAOxB,KAAP,EAAcC,MAAd,KAAyB;AAC/C,UAAQA,MAAM,CAACwB,IAAf;AACE,SAAK,cAAL;AACE,UAAIC,WAAJ;AACA,YAAM9B,KAAK,CACR+B,GADG,CACC,YADD,EAEHtB,IAFG,CAEEC,GAAG,IAAI;AACXoB,QAAAA,WAAW,GAAGpB,GAAG,CAACG,IAAlB;AACD,OAJG,EAKHC,KALG,CAKGC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CALV,CAAN;AAMA,aAAO,CAAC,GAAGX,KAAJ,EAAW,GAAG0B,WAAd,CAAP;;AAEF,SAAK,aAAL;AACE,YAAMvB,OAAO,GAAGF,MAAM,CAACE,OAAP,IAAkBF,MAAM,CAACE,OAAzC;AACA,YAAMP,KAAK,CACRgC,IADG,CACE,eADF,EACmBzB,OADnB,EAEHE,IAFG,CAEEC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,CAFT,EAGHC,KAHG,CAGGC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAHV,CAAN;AAIA,aAAO,CAAC,GAAGX,KAAJ,EAAW;AAAEc,QAAAA,EAAE,EAAEhB,IAAI,EAAV;AAAcK,QAAAA;AAAd,OAAX,CAAP;;AAEF,SAAK,gBAAL;AACE,YAAMP,KAAK,CACRiC,MADG,CACK,oBAAmB1B,OAAO,CAACC,GAAI,EADpC,EAEHC,IAFG,CAEEC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,CAFT,EAGHC,KAHG,CAGGC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAHV,CAAN;AAIA,aAAOX,KAAK,CAAC8B,MAAN,CAAajB,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASb,MAAM,CAACa,EAAlC,CAAP;;AAEF,SAAK,gBAAL;AACE,aAAOf,aAAa,CAACC,KAAD,EAAQG,OAAR,CAApB;;AAEF;AACE,aAAOH,KAAP;AA9BJ;AAgCD,CAjCD;;AAkCA,eAAewB,eAAf","sourcesContent":["import axios from \"axios\";\nimport { createPayPeriodData } from \"../helperFunctions\";\nimport uuid from \"uuid/v4\";\n\nconst updateTeacher = async (state, action) => {\n  await axios\n    .put(`/teachers/update/${teacher._id}`, teacher)\n    .then(res => console.log(res.data))\n    .catch(err => console.log(err));\n  return state.map(t =>\n    t.id === teacher.id\n      ? {\n          ...t,\n          resourceTitle: teacher.resourceTitle,\n          name: teacher.name,\n          familyName: teacher.familyName,\n          teachingMins: teacher.teachingMins,\n          holidayMins: teacher.holidayMins,\n          outsideDutyMins: teacher.outsideDutyMins,\n          otThreshold: teacher.otThreshold,\n          overThresholdOneMins: teacher.overThresholdOneMins,\n          overThresholdTwoMins: teacher.overThresholdTwoMins\n        }\n      : t\n  );\n};\n\nconst teachersReducer = async (state, action) => {\n  switch (action.type) {\n    case \"GET_TEACHERS\":\n      let teachersArr;\n      await axios\n        .get(\"/teachers/\")\n        .then(res => {\n          teachersArr = res.data;\n        })\n        .catch(err => console.log(err));\n      return [...state, ...teachersArr];\n\n    case \"ADD_TEACHER\":\n      const teacher = action.teacher && action.teacher;\n      await axios\n        .post(\"/teachers/add\", teacher)\n        .then(res => console.log(res.data))\n        .catch(err => console.log(err));\n      return [...state, { id: uuid(), teacher }];\n\n    case \"DELETE_TEACHER\":\n      await axios\n        .delete(`/teachers/delete/${teacher._id}`)\n        .then(res => console.log(res.data))\n        .catch(err => console.log(err));\n      return state.filter(t => t.id !== action.id);\n\n    case \"UPDATE_TEACHER\":\n      return updateTeacher(state, teacher);\n\n    default:\n      return state;\n  }\n};\nexport default teachersReducer;\n"]},"metadata":{},"sourceType":"module"}